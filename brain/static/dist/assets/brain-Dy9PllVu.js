import{c as ze,r as c,j as e,b as K,R as Ys,d as Vs,e as $,f as Gs,P as ts,g as Js,u as _e,X as he}from"./index-Ctk133d_.js";import{h as Qs,i as Xs,j as Zs,u as _,a as F,g,S as ue,L as et,k as st,C as pe,B as k,f as tt,l as Ae,T as ae,P as fe,I as be,D as Ye,c as Ve,d as Ge,e as Je,m as Qe,n as Z,o as Xe}from"./layout-CG-zfOLR.js";import{C as re,a as ye,b as je,c as oe}from"./card-Du-Vq29v.js";import{e as nt,B as Ze,S as De,a as Te,b as Ee,c as Ie,d as M}from"./select-7mPOkAHS.js";import{T as at,a as rt,b as Pe,c as Oe}from"./tabs-GqPgBKfY.js";import{c as ns,R as ot,T as lt,C as ct,a as ee}from"./index-BZeQ6Egi.js";import{A as as,a as rs,b as os,c as ls,d as cs,e as ds,f as is,g as ms}from"./alert-dialog-BDSM3Yho.js";import{F as dt,a as es}from"./folder-BL7e7Eea.js";import{F as it}from"./file-text-CF4T4Fc7.js";import{R as ss}from"./refresh-cw-DFScxaR5.js";import{i as mt,f as ut}from"./format-D7m0hUtg.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ht=ze("database",xt);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],ft=ze("file",pt);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],us=ze("layers",bt),xs=c.forwardRef(({className:a,...o},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:K("w-full caption-bottom text-sm",a),...o})}));xs.displayName="Table";const hs=c.forwardRef(({className:a,...o},r)=>e.jsx("thead",{ref:r,className:K("[&_tr]:border-b",a),...o}));hs.displayName="TableHeader";const ps=c.forwardRef(({className:a,...o},r)=>e.jsx("tbody",{ref:r,className:K("[&_tr:last-child]:border-0",a),...o}));ps.displayName="TableBody";const gt=c.forwardRef(({className:a,...o},r)=>e.jsx("tfoot",{ref:r,className:K("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...o}));gt.displayName="TableFooter";const Re=c.forwardRef(({className:a,...o},r)=>e.jsx("tr",{ref:r,className:K("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...o}));Re.displayName="TableRow";const V=c.forwardRef(({className:a,...o},r)=>e.jsx("th",{ref:r,className:K("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...o}));V.displayName="TableHead";const G=c.forwardRef(({className:a,...o},r)=>e.jsx("td",{ref:r,className:K("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...o}));G.displayName="TableCell";const yt=c.forwardRef(({className:a,...o},r)=>e.jsx("caption",{ref:r,className:K("mt-4 text-sm text-muted-foreground",a),...o}));yt.displayName="TableCaption";function jt(a,o,{checkForDefaultPrevented:r=!0}={}){return function(u){if(a?.(u),r===!1||!u.defaultPrevented)return o?.(u)}}var Nt=Ys[" useInsertionEffect ".trim().toString()]||Vs;function fs({prop:a,defaultProp:o,onChange:r=()=>{},caller:d}){const[u,i,h]=vt({defaultProp:o,onChange:r}),m=a!==void 0,C=m?a:u;{const p=c.useRef(a!==void 0);c.useEffect(()=>{const y=p.current;y!==m&&console.warn(`${d} is changing from ${y?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=m},[m,d])}const v=c.useCallback(p=>{if(m){const y=St(p)?p(a):p;y!==a&&h.current?.(y)}else i(p)},[m,a,i,h]);return[C,v]}function vt({defaultProp:a,onChange:o}){const[r,d]=c.useState(a),u=c.useRef(r),i=c.useRef(o);return Nt(()=>{i.current=o},[o]),c.useEffect(()=>{u.current!==r&&(i.current?.(r),u.current=r)},[r,u]),[r,d,i]}function St(a){return typeof a=="function"}var H="Accordion",Ct=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[$e,wt,kt]=nt(H),[ve]=Gs(H,[kt,ns]),Be=ns(),bs=$.forwardRef((a,o)=>{const{type:r,...d}=a,u=d,i=d;return e.jsx($e.Provider,{scope:a.__scopeAccordion,children:r==="multiple"?e.jsx(Et,{...i,ref:o}):e.jsx(Tt,{...u,ref:o})})});bs.displayName=H;var[gs,At]=ve(H),[ys,Dt]=ve(H,{collapsible:!1}),Tt=$.forwardRef((a,o)=>{const{value:r,defaultValue:d,onValueChange:u=()=>{},collapsible:i=!1,...h}=a,[m,C]=fs({prop:r,defaultProp:d??"",onChange:u,caller:H});return e.jsx(gs,{scope:a.__scopeAccordion,value:$.useMemo(()=>m?[m]:[],[m]),onItemOpen:C,onItemClose:$.useCallback(()=>i&&C(""),[i,C]),children:e.jsx(ys,{scope:a.__scopeAccordion,collapsible:i,children:e.jsx(js,{...h,ref:o})})})}),Et=$.forwardRef((a,o)=>{const{value:r,defaultValue:d,onValueChange:u=()=>{},...i}=a,[h,m]=fs({prop:r,defaultProp:d??[],onChange:u,caller:H}),C=$.useCallback(p=>m((y=[])=>[...y,p]),[m]),v=$.useCallback(p=>m((y=[])=>y.filter(P=>P!==p)),[m]);return e.jsx(gs,{scope:a.__scopeAccordion,value:h,onItemOpen:C,onItemClose:v,children:e.jsx(ys,{scope:a.__scopeAccordion,collapsible:!0,children:e.jsx(js,{...i,ref:o})})})}),[It,Se]=ve(H),js=$.forwardRef((a,o)=>{const{__scopeAccordion:r,disabled:d,dir:u,orientation:i="vertical",...h}=a,m=$.useRef(null),C=Js(m,o),v=wt(r),y=Xs(u)==="ltr",P=jt(a.onKeyDown,A=>{if(!Ct.includes(A.key))return;const O=A.target,D=v().filter(t=>!t.ref.current?.disabled),w=D.findIndex(t=>t.ref.current===O),L=D.length;if(w===-1)return;A.preventDefault();let T=w;const q=0,R=L-1,z=()=>{T=w+1,T>R&&(T=q)},j=()=>{T=w-1,T<q&&(T=R)};switch(A.key){case"Home":T=q;break;case"End":T=R;break;case"ArrowRight":i==="horizontal"&&(y?z():j());break;case"ArrowDown":i==="vertical"&&z();break;case"ArrowLeft":i==="horizontal"&&(y?j():z());break;case"ArrowUp":i==="vertical"&&j();break}const E=T%L;D[E].ref.current?.focus()});return e.jsx(It,{scope:r,disabled:d,direction:u,orientation:i,children:e.jsx($e.Slot,{scope:r,children:e.jsx(ts.div,{...h,"data-orientation":i,ref:C,onKeyDown:d?void 0:P})})})}),Ne="AccordionItem",[Pt,Ke]=ve(Ne),Ns=$.forwardRef((a,o)=>{const{__scopeAccordion:r,value:d,...u}=a,i=Se(Ne,r),h=At(Ne,r),m=Be(r),C=Qs(),v=d&&h.value.includes(d)||!1,p=i.disabled||a.disabled;return e.jsx(Pt,{scope:r,open:v,disabled:p,triggerId:C,children:e.jsx(ot,{"data-orientation":i.orientation,"data-state":As(v),...m,...u,ref:o,disabled:p,open:v,onOpenChange:y=>{y?h.onItemOpen(d):h.onItemClose(d)}})})});Ns.displayName=Ne;var vs="AccordionHeader",Ss=$.forwardRef((a,o)=>{const{__scopeAccordion:r,...d}=a,u=Se(H,r),i=Ke(vs,r);return e.jsx(ts.h3,{"data-orientation":u.orientation,"data-state":As(i.open),"data-disabled":i.disabled?"":void 0,...d,ref:o})});Ss.displayName=vs;var Me="AccordionTrigger",Cs=$.forwardRef((a,o)=>{const{__scopeAccordion:r,...d}=a,u=Se(H,r),i=Ke(Me,r),h=Dt(Me,r),m=Be(r);return e.jsx($e.ItemSlot,{scope:r,children:e.jsx(lt,{"aria-disabled":i.open&&!h.collapsible||void 0,"data-orientation":u.orientation,id:i.triggerId,...m,...d,ref:o})})});Cs.displayName=Me;var ws="AccordionContent",ks=$.forwardRef((a,o)=>{const{__scopeAccordion:r,...d}=a,u=Se(H,r),i=Ke(ws,r),h=Be(r);return e.jsx(ct,{role:"region","aria-labelledby":i.triggerId,"data-orientation":u.orientation,...h,...d,ref:o,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...a.style}})});ks.displayName=ws;function As(a){return a?"open":"closed"}var Ot=bs,Rt=Ns,Mt=Ss,Ds=Cs,Ts=ks;const Ft=Ot,Fe=c.forwardRef(({className:a,...o},r)=>e.jsx(Rt,{ref:r,className:K("border-b",a),...o}));Fe.displayName="AccordionItem";const Le=c.forwardRef(({className:a,children:o,...r},d)=>e.jsx(Mt,{className:"flex",children:e.jsxs(Ds,{ref:d,className:K("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",a),...r,children:[o,e.jsx(Zs,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));Le.displayName=Ds.displayName;const qe=c.forwardRef(({className:a,children:o,...r},d)=>e.jsx(Ts,{ref:d,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:e.jsx("div",{className:K("pb-4 pt-0",a),children:o})}));qe.displayName=Ts.displayName;const Lt=`You are extracting a full course syllabus for ingestion.

Return ONLY a valid JSON object with NO additional text, NO markdown code blocks, NO explanation.

Top-level structure:
{
  "term": {
    "startDate": "2026-01-05",
    "endDate": "2026-04-24",
    "timezone": "America/Chicago"
  },
  "modules": [
    {
      "name": "Module 1: ...",
      "orderIndex": 1,
      "topics": ["..."],
      "readings": ["..."],
      "assessments": ["..."]
    }
  ],
  "events": [
    {
      "type": "class" | "lecture" | "reading" | "topic" | "assignment" | "quiz" | "exam" | "assessment",
      "title": "string",
      "date": "YYYY-MM-DD",
      "dueDate": "YYYY-MM-DD | null",
      "startTime": "HH:MM | null",
      "endTime": "HH:MM | null",
      "daysOfWeek": ["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],
      "delivery": "in_person" | "virtual_sync" | "virtual_async" | "hybrid",
      "assessmentType": "EA | null",
      "moduleName": "Module 1: ... | null",
      "notes": "string | null"
    }
  ]
}

Rules:
1. Include ALL items: class meetings, assignments, quizzes, exams, topics, readings, virtual synchronous/asynchronous activities, and learning assessments (EA).
2. For repeating class meetings, set daysOfWeek + startTime/endTime, and include term start/end.
3. For one-off items, set date or dueDate.
4. Keep moduleName when items belong to a module.
5. Return ONLY the JSON object, nothing else.

Here's my syllabus:

[PASTE YOUR SYLLABUS BELOW]`,qt=`I need you to extract learning objectives from my course material.

Return ONLY a valid JSON array with NO additional text, NO markdown code blocks, NO explanation.

Structure for each item:
{
  "loCode": "string",
  "title": "string"
}

Rules:
1. loCode: Preserve original numbering if present, or create sequential "1", "2", "3"...
2. title: Keep the objective text exactly as written
3. Return ONLY the JSON array, nothing else

Here are my learning objectives:

[PASTE YOUR LOs BELOW]`,zt=`I need you to convert my study session notes into WRAP format.

WRAP format has 4 sections:

Section A: Obsidian Notes
- Main concepts and insights from the session
- Key points to remember

Section B: Anki Cards
- Format: "front: [question]" on one line, "back: [answer]" on next line
- Create cards for important facts and concepts

Section C: Spaced Schedule
- R1=tomorrow
- R2=3d
- R3=1w
- R4=2w

Section D: JSON Logs
\`\`\`json
{
  "merged": {
    "topic": "[main topic]",
    "mode": "Core",
    "duration_minutes": [number],
    "understanding": [1-5],
    "retention": [1-5]
  }
}
\`\`\`

Return ONLY the WRAP formatted content, NO additional text or explanation.

Here are my study notes:

[PASTE YOUR NOTES BELOW]`;function _t(){const a=_e(),[o,r]=c.useState(null),[d,u]=c.useState(null),[i,h]=c.useState(""),[m,C]=c.useState(""),[v,p]=c.useState(null),[y,P]=c.useState(""),[A,O]=c.useState(null),[D,w]=c.useState(null),{data:L=[]}=_({queryKey:["courses"],queryFn:()=>g.courses.getActive()}),{data:T=[]}=_({queryKey:["modules",o],queryFn:()=>o?g.modules.getByCourse(o):Promise.resolve([]),enabled:!!o}),{data:q=[]}=_({queryKey:["learningObjectives",o],queryFn:()=>o?g.learningObjectives.getByCourse(o):Promise.resolve([]),enabled:!!o}),R=F({mutationFn:async n=>{if(!o)throw new Error("Select a course first");const f=JSON.parse(E(n));return g.syllabus.importBulk(o,f)},onSuccess:n=>{a.invalidateQueries({queryKey:["scheduleEvents"]}),a.invalidateQueries({queryKey:["modules"]}),h(""),w({type:"success",message:`Imported: ${n.modulesCreated} modules, ${n.eventsCreated} events (${n.classMeetingsExpanded} class meetings expanded)`}),p(null)},onError:n=>{w({type:"error",message:n.message||"Failed to import syllabus"}),p(n.message||"Failed to import syllabus")}}),z=F({mutationFn:async n=>{if(!o)throw new Error("Select a course first");const f=JSON.parse(E(n));return g.learningObjectives.createBulk(o,d,f)},onSuccess:()=>{a.invalidateQueries({queryKey:["learningObjectives"]}),C(""),p(null)},onError:n=>{p(n.message||"Failed to import LOs")}}),j=n=>{navigator.clipboard.writeText(n)},E=n=>{const f=n.trim();if(!f)return"";const N=f.match(/```json\s*([\s\S]*?)```/i)||f.match(/```\s*([\s\S]*?)```/i),U=N?N[1].trim():f,B=U.indexOf("{"),W=U.lastIndexOf("}");return B!==-1&&W!==-1&&W>B?U.slice(B,W+1).trim():U},t=async()=>{try{O(null);const n=y,N=await g.brain.ingest(n,"pasted_wrap.md");N.sessionSaved?(O({type:"success",message:`âœ“ Session saved! ID: ${N.sessionId}, Cards: ${N.cardsCreated||0}`}),P("")):O({type:"error",message:N.errors?.join(", ")||N.message})}catch(n){O({type:"error",message:n.message||"Failed to ingest"})}};return e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsxs("div",{className:"border border-secondary/40 rounded-none p-4 bg-primary/5",children:[e.jsx("h2",{className:"text-xl font-arcade text-primary mb-4",children:"WRAP SESSION INGESTION"}),A&&e.jsx("div",{className:`mb-4 p-3 rounded-none font-terminal text-sm ${A.type==="success"?"bg-green-900/30 border border-green-500 text-green-400":"bg-red-900/30 border border-red-500 text-red-400"}`,children:A.message}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>j(zt),className:"bg-primary hover:bg-primary/80 px-3 py-1 rounded-none text-xs font-terminal mb-2",type:"button",children:"Copy Prompt for ChatGPT"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-terminal",children:"Use ChatGPT to convert your notes to WRAP format, then paste or upload below:"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-2 font-terminal text-muted-foreground",children:"Paste WRAP Content"}),e.jsx("textarea",{className:"w-full bg-black border border-secondary rounded-none p-2 h-48 font-terminal text-sm",placeholder:"Paste your WRAP session here...",value:y,onChange:n=>{P(n.target.value),O(null)}})]}),e.jsx("button",{onClick:t,disabled:!y,className:"bg-primary hover:bg-primary/80 disabled:opacity-50 px-6 py-3 rounded-none font-arcade text-sm w-full",type:"button",children:"INGEST WRAP SESSION"})]})]}),e.jsx("h2",{className:"text-xl font-arcade text-primary",children:"MATERIAL INGESTION"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 font-terminal text-muted-foreground",children:"Select Course"}),e.jsxs("select",{className:"w-full bg-black border border-secondary rounded-none p-2 font-terminal",value:o||"",onChange:n=>{r(n.target.value?parseInt(n.target.value):null),u(null)},children:[e.jsx("option",{value:"",children:"-- Select Course --"}),L.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]})]}),v&&e.jsx("div",{className:"bg-destructive/20 border border-destructive rounded-none p-3 text-destructive font-terminal",children:v}),o&&e.jsxs(Ft,{type:"multiple",className:"border border-secondary/40 rounded-none divide-y divide-secondary/40",children:[e.jsxs(Fe,{value:"syllabus-import",className:"border-secondary/40",children:[e.jsx(Le,{className:"font-arcade text-xs text-primary px-3 hover:no-underline",children:"SYLLABUS IMPORT (MODULES + SCHEDULE)"}),e.jsxs(qe,{className:"px-3",children:[e.jsx("button",{onClick:()=>j(Lt),className:"bg-primary hover:bg-primary/80 px-3 py-1 rounded-none text-xs font-terminal mb-2",type:"button",children:"Copy Prompt for ChatGPT"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-terminal",children:"Paste the ChatGPT response (combined JSON object) below:"}),e.jsx("textarea",{className:"w-full bg-black border border-secondary rounded-none p-2 h-40 font-terminal text-sm",placeholder:'{"term":{"startDate":"2026-01-15","endDate":"2026-05-01","timezone":"America/Chicago"},"modules":[...],"events":[...]}',value:i,onChange:n=>{h(n.target.value),w(null)}}),e.jsx("button",{onClick:()=>R.mutate(i),disabled:!i||R.isPending,className:"bg-secondary hover:bg-secondary/80 disabled:opacity-50 px-4 py-2 rounded-none mt-2 font-terminal text-xs",type:"button",children:R.isPending?"Importing...":"Import Syllabus"}),D&&e.jsx("div",{className:`mt-2 p-2 border font-terminal text-xs ${D.type==="success"?"border-green-500 text-green-400":"border-red-500 text-red-400"}`,children:D.message})]})]}),e.jsxs(Fe,{value:"learning-objectives",className:"border-secondary/40",children:[e.jsx(Le,{className:"font-arcade text-xs text-primary px-3 hover:no-underline",children:"LEARNING OBJECTIVES IMPORT"}),e.jsxs(qe,{className:"px-3",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-xs mb-1 font-terminal text-muted-foreground",children:"Target Module (optional)"}),e.jsxs("select",{className:"w-full bg-black border border-secondary rounded-none p-2 font-terminal",value:d||"",onChange:n=>u(n.target.value?parseInt(n.target.value):null),children:[e.jsx("option",{value:"",children:"-- No Module (Course-level) --"}),T.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]})]}),e.jsx("button",{onClick:()=>j(qt),className:"bg-primary hover:bg-primary/80 px-3 py-1 rounded-none text-xs font-terminal mb-2",type:"button",children:"Copy Prompt for ChatGPT"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-terminal",children:"Paste the ChatGPT response (JSON array) below:"}),e.jsx("textarea",{className:"w-full bg-black border border-secondary rounded-none p-2 h-32 font-terminal text-sm",placeholder:'[{"loCode": "1.1", "title": "Define..."}]',value:m,onChange:n=>C(n.target.value)}),e.jsx("button",{onClick:()=>z.mutate(m),disabled:!m||z.isPending,className:"bg-secondary hover:bg-secondary/80 disabled:opacity-50 px-4 py-2 rounded-none mt-2 font-terminal text-xs",type:"button",children:z.isPending?"Importing...":"Import LOs"}),q.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h4",{className:"font-terminal text-xs mb-2",children:["Current LOs (",q.length,")"]}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:q.map(n=>e.jsxs("div",{className:"text-xs py-1 border-b border-secondary/30 font-terminal",children:[e.jsx("span",{className:"text-primary",children:n.loCode}),": ",n.title,e.jsx("span",{className:`ml-2 text-[10px] px-1 rounded ${n.status==="solid"?"bg-green-600":n.status==="in_progress"?"bg-yellow-600":n.status==="need_review"?"bg-orange-600":"bg-gray-600"}`,children:n.status})]},n.id))})]})]})]})]})]})}function $t(){const a=_e(),[o,r]=c.useState(null),[d,u]=c.useState({}),[i,h]=c.useState({}),[m,C]=c.useState(new Set),[v,p]=c.useState(new Set),[y,P]=c.useState(null),A=c.useRef(null),{data:O=[]}=_({queryKey:["courses"],queryFn:()=>g.courses.getActive()}),{data:D=[]}=_({queryKey:["modules",o],queryFn:()=>o?g.modules.getByCourse(o):Promise.resolve([]),enabled:!!o}),{data:w=[]}=_({queryKey:["scheduleEvents",o],queryFn:()=>o?g.scheduleEvents.getByCourse(o):Promise.resolve([]),enabled:!!o}),L=F({mutationFn:({id:t,data:n})=>g.modules.update(t,n),onSuccess:()=>{a.invalidateQueries({queryKey:["modules"]})}}),T=F({mutationFn:t=>g.modules.delete(t),onSuccess:()=>{a.invalidateQueries({queryKey:["modules"]})}}),q=F({mutationFn:t=>g.modules.deleteMany(t),onSuccess:()=>{a.invalidateQueries({queryKey:["modules"]}),C(new Set)}}),R=F({mutationFn:({id:t,data:n})=>g.scheduleEvents.update(t,n),onSuccess:()=>{a.invalidateQueries({queryKey:["scheduleEvents"]})}}),z=F({mutationFn:t=>g.scheduleEvents.delete(t),onSuccess:()=>{a.invalidateQueries({queryKey:["scheduleEvents"]})}}),j=F({mutationFn:t=>g.scheduleEvents.deleteMany(t),onSuccess:()=>{a.invalidateQueries({queryKey:["scheduleEvents"]}),p(new Set)}}),E=(t,n,f)=>{if(!n.length)return;const N={type:t,ids:n,label:f};A.current=N,P(N)};return e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 font-terminal text-muted-foreground",children:"Select Course"}),e.jsxs("select",{className:"w-full bg-black border border-secondary rounded-none p-2 font-terminal",value:o||"",onChange:t=>{r(t.target.value?parseInt(t.target.value):null)},children:[e.jsx("option",{value:"",children:"-- Select Course --"}),O.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),o&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(re,{className:"brain-card rounded-none",children:[e.jsx(ye,{className:"border-b border-secondary/50 p-3",children:e.jsxs(je,{className:"font-arcade text-sm flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4"}),"MODULES (",D.length,")"]})}),e.jsx(oe,{className:"p-0",children:D.length===0?e.jsx("p",{className:"text-xs text-muted-foreground font-terminal p-4",children:"No modules yet. Import a syllabus to add modules."}):e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"bg-secondary hover:bg-secondary/80 px-2 py-1 rounded-none text-[10px] font-terminal",type:"button",onClick:()=>{const t=new Set;m.size!==D.length&&D.forEach(n=>t.add(n.id)),C(t)},children:m.size===D.length?"Uncheck All":"Check All"}),e.jsx("button",{className:"bg-destructive hover:bg-destructive/80 px-2 py-1 rounded-none text-[10px] font-terminal",type:"button",disabled:m.size===0,onClick:()=>{E("modules",Array.from(m),`Delete ${m.size} module(s)? This cannot be undone.`)},children:"Delete"}),e.jsx("button",{className:"bg-secondary hover:bg-secondary/80 px-2 py-1 rounded-none text-[10px] font-terminal",type:"button",disabled:m.size===0,onClick:()=>{m.forEach(t=>{const n=d[t];n&&L.mutate({id:t,data:n})}),u(t=>{const n={...t};return m.forEach(f=>{delete n[f]}),n})},children:"Save"})]}),e.jsx(ue,{className:"h-[280px]",children:e.jsxs("table",{className:"w-full text-sm font-terminal",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-secondary/50",children:[e.jsx("th",{className:"text-center p-2 w-8",children:"Select"}),e.jsx("th",{className:"text-left p-2",children:"Module"}),e.jsx("th",{className:"text-center p-2",children:"Order"}),e.jsx("th",{className:"text-center p-2",children:"Files"}),e.jsx("th",{className:"text-center p-2",children:"NotebookLM"}),e.jsx("th",{className:"text-center p-2",children:"Status"}),e.jsx("th",{className:"text-center p-2",children:"Actions"})]})}),e.jsx("tbody",{children:D.map(t=>e.jsxs("tr",{className:"border-b border-secondary/30",children:[e.jsx("td",{className:"text-center p-2",children:e.jsx(ee,{checked:m.has(t.id),onCheckedChange:n=>C(f=>{const N=new Set(f);return n?N.add(t.id):N.delete(t.id),N}),className:"rounded-none border-secondary data-[state=checked]:bg-secondary w-4 h-4"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{className:"w-full bg-black border border-secondary rounded-none p-1 text-xs font-terminal",value:d[t.id]?.name??t.name,onChange:n=>u(f=>({...f,[t.id]:{...f[t.id],name:n.target.value}}))})}),e.jsx("td",{className:"text-center p-2",children:e.jsx("input",{type:"number",className:"w-16 bg-black border border-secondary rounded-none p-1 text-xs font-terminal text-center",value:d[t.id]?.orderIndex??t.orderIndex??0,onChange:n=>u(f=>({...f,[t.id]:{...f[t.id],orderIndex:parseInt(n.target.value||"0",10)}}))})}),e.jsx("td",{className:"text-center p-2",children:e.jsx(ee,{checked:t.filesDownloaded,onCheckedChange:n=>L.mutate({id:t.id,data:{filesDownloaded:!!n}}),className:"rounded-none border-secondary data-[state=checked]:bg-secondary w-4 h-4"})}),e.jsx("td",{className:"text-center p-2",children:e.jsx(ee,{checked:t.notebooklmLoaded,onCheckedChange:n=>L.mutate({id:t.id,data:{notebooklmLoaded:!!n}}),className:"rounded-none border-secondary data-[state=checked]:bg-secondary w-4 h-4"})}),e.jsx("td",{className:"text-center p-2",children:t.filesDownloaded&&t.notebooklmLoaded?e.jsx("span",{className:"text-green-400",children:"Ready"}):e.jsx("span",{className:"text-yellow-400",children:"Pending"})}),e.jsxs("td",{className:"text-center p-2 space-x-2",children:[e.jsx("button",{className:"bg-secondary hover:bg-secondary/80 px-2 py-1 rounded-none text-[10px] font-terminal",type:"button",disabled:!d[t.id],onClick:()=>{const n=d[t.id];n&&(L.mutate({id:t.id,data:n}),u(f=>{const N={...f};return delete N[t.id],N}))},children:"Save"}),e.jsx("button",{className:"bg-destructive hover:bg-destructive/80 px-2 py-1 rounded-none text-[10px] font-terminal",type:"button",onClick:()=>T.mutate(t.id),children:"Delete"})]})]},t.id))})]})})]})})]}),e.jsxs(re,{className:"brain-card rounded-none",children:[e.jsx(ye,{className:"border-b border-secondary/50 p-3",children:e.jsxs(je,{className:"font-arcade text-sm flex items-center gap-2",children:[e.jsx(us,{className:"w-4 h-4"}),"SCHEDULE ITEMS (",w.length,")"]})}),e.jsx(oe,{className:"p-0",children:w.length===0?e.jsx("p",{className:"text-xs text-muted-foreground font-terminal p-4",children:"No schedule items yet. Import a syllabus to add events."}):e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"bg-secondary hover:bg-secondary/80 px-2 py-1 rounded-none text-[10px] font-terminal",type:"button",onClick:()=>{const t=new Set;v.size!==w.length&&w.forEach(n=>t.add(n.id)),p(t)},children:v.size===w.length?"Uncheck All":"Check All"}),e.jsx("button",{className:"bg-destructive hover:bg-destructive/80 px-2 py-1 rounded-none text-[10px] font-terminal",type:"button",disabled:v.size===0,onClick:()=>{E("schedule",Array.from(v),`Delete ${v.size} schedule item(s)? This cannot be undone.`)},children:"Delete"}),e.jsx("button",{className:"bg-secondary hover:bg-secondary/80 px-2 py-1 rounded-none text-[10px] font-terminal",type:"button",disabled:v.size===0,onClick:()=>{v.forEach(t=>{const n=i[t];n&&R.mutate({id:t,data:n})}),h(t=>{const n={...t};return v.forEach(f=>{delete n[f]}),n})},children:"Save"})]}),e.jsx(ue,{className:"h-[280px]",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs font-terminal",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-secondary/50",children:[e.jsx("th",{className:"text-center p-2 w-8",children:"Select"}),e.jsx("th",{className:"text-left p-2",children:"Type"}),e.jsx("th",{className:"text-left p-2",children:"Delivery"}),e.jsx("th",{className:"text-left p-2",children:"Title"}),e.jsx("th",{className:"text-center p-2",children:"Date"}),e.jsx("th",{className:"text-center p-2",children:"Start"}),e.jsx("th",{className:"text-center p-2",children:"End"}),e.jsx("th",{className:"text-center p-2",children:"Due"}),e.jsx("th",{className:"text-left p-2",children:"Notes"}),e.jsx("th",{className:"text-center p-2",children:"Actions"})]})}),e.jsx("tbody",{children:w.map(t=>{const n=i[t.id]||{},f=n.type??t.type??"",N=n.delivery??t.delivery??"",U=n.title??t.title??"",B=n.date??t.date??"",W=n.startTime??t.startTime??"",le=n.endTime??t.endTime??"",ce=n.dueDate??t.dueDate??"",J=n.notes??t.notes??"",Ce=!!i[t.id];return e.jsxs("tr",{className:"border-b border-secondary/30 align-top",children:[e.jsx("td",{className:"text-center p-2",children:e.jsx(ee,{checked:v.has(t.id),onCheckedChange:x=>p(b=>{const se=new Set(b);return x?se.add(t.id):se.delete(t.id),se}),className:"rounded-none border-secondary data-[state=checked]:bg-secondary w-4 h-4"})}),e.jsx("td",{className:"p-2",children:e.jsx("select",{className:"bg-black border border-secondary rounded-none p-1 text-xs font-terminal",value:f,onChange:x=>h(b=>({...b,[t.id]:{...b[t.id],type:x.target.value}})),children:["class","lecture","reading","topic","assignment","quiz","exam","assessment","other"].map(x=>e.jsx("option",{value:x,children:x},x))})}),e.jsx("td",{className:"p-2",children:e.jsx("select",{className:"bg-black border border-secondary rounded-none p-1 text-xs font-terminal",value:N,onChange:x=>h(b=>({...b,[t.id]:{...b[t.id],delivery:x.target.value}})),children:["","in_person","virtual_sync","virtual_async","online_module","hybrid"].map(x=>e.jsx("option",{value:x,children:x||"--"},x))})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{className:"w-full bg-black border border-secondary rounded-none p-1 text-xs font-terminal",value:U,onChange:x=>h(b=>({...b,[t.id]:{...b[t.id],title:x.target.value}}))})}),e.jsx("td",{className:"text-center p-2",children:e.jsx("input",{type:"date",className:"bg-black border border-secondary rounded-none p-1 text-xs font-terminal",value:B||"",onChange:x=>h(b=>({...b,[t.id]:{...b[t.id],date:x.target.value}}))})}),e.jsx("td",{className:"text-center p-2",children:e.jsx("input",{type:"time",className:"bg-black border border-secondary rounded-none p-1 text-xs font-terminal",value:W||"",onChange:x=>h(b=>({...b,[t.id]:{...b[t.id],startTime:x.target.value}}))})}),e.jsx("td",{className:"text-center p-2",children:e.jsx("input",{type:"time",className:"bg-black border border-secondary rounded-none p-1 text-xs font-terminal",value:le||"",onChange:x=>h(b=>({...b,[t.id]:{...b[t.id],endTime:x.target.value}}))})}),e.jsx("td",{className:"text-center p-2",children:e.jsx("input",{type:"date",className:"bg-black border border-secondary rounded-none p-1 text-xs font-terminal",value:ce||"",onChange:x=>h(b=>({...b,[t.id]:{...b[t.id],dueDate:x.target.value}}))})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{className:"w-full bg-black border border-secondary rounded-none p-1 text-xs font-terminal",value:J||"",onChange:x=>h(b=>({...b,[t.id]:{...b[t.id],notes:x.target.value}}))})}),e.jsxs("td",{className:"text-center p-2 space-x-2",children:[e.jsx("button",{className:"bg-secondary hover:bg-secondary/80 px-2 py-1 rounded-none text-[10px] font-terminal",type:"button",disabled:!Ce,onClick:()=>{R.mutate({id:t.id,data:{type:f,title:U,date:B,startTime:W,endTime:le,dueDate:ce,notes:J,delivery:N}}),h(x=>{const b={...x};return delete b[t.id],b})},children:"Save"}),e.jsx("button",{className:"bg-destructive hover:bg-destructive/80 px-2 py-1 rounded-none text-[10px] font-terminal",type:"button",onClick:()=>z.mutate(t.id),children:"Delete"})]})]},t.id)})})]})})})]})})]})]}),e.jsx(as,{open:!!y,onOpenChange:t=>!t&&P(null),children:e.jsxs(rs,{className:"bg-black border-2 border-primary rounded-none font-terminal text-primary shadow-none max-w-md translate-y-0",style:{zIndex:100005,top:"6rem",left:"50%",transform:"translate(-50%, 0)"},children:[e.jsxs(os,{className:"text-left",children:[e.jsx(ls,{className:"font-arcade text-destructive",children:"CONFIRM_DELETE"}),e.jsx(cs,{className:"font-terminal text-muted-foreground",children:y?.label})]}),e.jsxs(ds,{className:"gap-2 sm:justify-end",children:[e.jsx(is,{className:"rounded-none border-secondary font-terminal text-xs hover:bg-secondary/20",onClick:()=>{A.current=null,P(null)},children:"CANCEL"}),e.jsx(ms,{className:"rounded-none bg-destructive text-destructive-foreground font-arcade text-xs hover:bg-destructive/80",type:"button",onClick:()=>{const t=A.current;t&&(t.type==="modules"?q.mutate(t.ids):j.mutate(t.ids),A.current=null,P(null))},children:"DELETE"})]})]})})]})}const Bt=(a,o="MM/dd")=>{if(!a)return"-";try{const r=a instanceof Date?a:new Date(a);return mt(r)?ut(r,o):"-"}catch{return"-"}},ge=a=>{if(Array.isArray(a))return a.filter(o=>typeof o=="string");if(typeof a=="string"){const o=a.trim();if(!o)return[];try{const r=JSON.parse(o);if(Array.isArray(r))return r.filter(d=>typeof d=="string")}catch{}return o.split(",").map(r=>r.trim()).filter(Boolean)}return[]};function sn(){const[a,o]=c.useState(new Set),[r,d]=c.useState(null),[u,i]=c.useState(!1),[h,m]=c.useState([]),[C,v]=c.useState(!1),[p,y]=c.useState(new Set),[P,A]=c.useState(null),[O,D]=c.useState({front:"",back:"",deckName:""}),[w,L]=c.useState("all"),[T,q]=c.useState(""),[R,z]=c.useState(""),[j,E]=c.useState({mode:"",minutes:"",cards:"",confusions:"",weakAnchors:"",concepts:"",issues:"",notes:""}),[t,n]=c.useState("School"),[f,N]=c.useState(null),[U,B]=c.useState(""),[W,le]=c.useState(!1),[ce,J]=c.useState(!1),Ce=[{name:"EBP",path:"School/Evidence Based Practice"},{name:"ExPhys",path:"School/Exercise Physiology"},{name:"MS1",path:"School/Movement Science 1"},{name:"Neuro",path:"School/Neuroscience"},{name:"TI",path:"School/Theraputic Intervention"}];c.useEffect(()=>{const s=new URLSearchParams(window.location.search),l=s.get("semester")||"all",S=s.get("start")||"",I=s.get("end")||"";L(l),q(S),z(I)},[]);const{data:x=[],isLoading:b}=_({queryKey:["sessions",w,T,R],queryFn:async()=>{const s=new URLSearchParams;w!=="all"&&s.append("semester",w),T&&s.append("start",T),R&&s.append("end",R);const l=s.toString(),S=l?`/sessions?${l}`:"/sessions",I=await fetch(`/api${S}`);if(!I.ok)throw new Error(`API Error: ${I.statusText}`);return I.json()}}),{data:se}=_({queryKey:["brain","metrics"],queryFn:g.brain.getMetrics}),de=_e(),Es=F({mutationFn:s=>g.sessions.deleteMany(s),onSuccess:()=>{de.invalidateQueries({queryKey:["sessions"]}),de.invalidateQueries({queryKey:["brain","metrics"]}),o(new Set)}}),Is=F({mutationFn:({id:s,updates:l})=>g.sessions.update(s,l),onSuccess:()=>{de.invalidateQueries({queryKey:["sessions"]}),de.invalidateQueries({queryKey:["brain","metrics"]}),d(null)}}),Ps=s=>{o(l=>{const S=new Set(l);return S.has(s)?S.delete(s):S.add(s),S})},Os=()=>{a.size===x.length?o(new Set):o(new Set(x.map(s=>s.id)))},Rs=()=>{a.size!==0&&(m(Array.from(a)),i(!0))},Ms=s=>{m([s]),i(!0)},Fs=()=>{Es.mutate(h),i(!1),m([])};c.useEffect(()=>{if(r!==null){const s=x.find(l=>l.id===r);s&&E({mode:s.mode||"",minutes:s.minutes?.toString()||"",cards:s.cards?.toString()||"",confusions:ge(s.confusions).join(", "),weakAnchors:ge(s.weakAnchors).join(", "),concepts:ge(s.concepts).join(", "),issues:ge(s.issues).join(", "),notes:s.notes||""})}},[r,x]);const te=r!==null?x.find(s=>s.id===r):null,ie=typeof window<"u"&&new URLSearchParams(window.location.search).has("debugModals");c.useEffect(()=>{r!==null&&!b&&!te&&(ie&&console.warn("[ModalDebug][Brain] Missing session for edit; closing.",{editingSession:r,sessionsCount:x.length}),d(null))},[ie,r,te,x.length,b]),c.useEffect(()=>{ie&&console.info("[ModalDebug][Brain] state",{editingSession:r,hasEditingSessionData:!!te,deleteDialogOpen:u,sessionsToDelete:h.length,sessionsLoading:b})},[ie,u,r,te,b,h.length]);const Ls=()=>{if(r===null)return;const s=I=>I?I.split(",").map(ne=>ne.trim()).filter(Boolean):[],l=I=>I.length?JSON.stringify(I):null,S={mode:j.mode||"study",minutes:parseInt(j.minutes)||0,cards:parseInt(j.cards)||0,confusions:l(s(j.confusions)),weakAnchors:l(s(j.weakAnchors)),concepts:l(s(j.concepts)),issues:l(s(j.issues)),notes:j.notes||null};Is.mutate({id:r,updates:S})},{data:Q}=_({queryKey:["obsidian","status"],queryFn:g.obsidian.getStatus,refetchInterval:3e4}),{data:qs,refetch:Kt}=_({queryKey:["obsidian","files",t],queryFn:()=>g.obsidian.getFiles(t),enabled:Q?.connected===!0}),zs=async s=>{try{const l=await g.obsidian.getFile(s);l.success&&l.content!==void 0&&(N(s),B(l.content),J(!1))}catch(l){console.error("Failed to load file:",l)}},_s=async()=>{if(f){le(!0);try{(await g.obsidian.saveFile(f,U)).success&&J(!1)}catch(s){console.error("Failed to save file:",s)}finally{le(!1)}}},me=s=>{n(s),N(null),B("")},$s=()=>{const s=new Date().toISOString().split("T")[0],l=t?`${t}/Session-${s}.md`:`Session-${s}.md`,S=`# Study Session - ${s}

## Summary


## Concepts Covered
- 

## Strengths
- 

## Areas to Review
- 

## Notes

`;N(l),B(S),J(!0)},{data:Y,isLoading:Bs,refetch:He}=_({queryKey:["anki","status"],queryFn:g.anki.getStatus,refetchInterval:3e4}),{data:Ks}=_({queryKey:["anki","due"],queryFn:g.anki.getDue,enabled:Y?.connected===!0}),{data:Hs=[],refetch:xe}=_({queryKey:["anki","drafts"],queryFn:g.anki.getDrafts}),X=Hs.filter(s=>s.status==="pending"),we=F({mutationFn:g.anki.sync,onSuccess:()=>{de.invalidateQueries({queryKey:["anki"]}),xe()}}),Ue=F({mutationFn:s=>g.anki.approveDraft(s),onSuccess:()=>{xe()}}),We=F({mutationFn:s=>g.anki.deleteDraft(s),onSuccess:()=>{xe()}}),ke=F({mutationFn:({id:s,data:l})=>g.anki.updateDraft(s,l),onSuccess:()=>{xe(),A(null)}}),Us=s=>{A(s.id),D({front:s.front,back:s.back,deckName:s.deckName})},Ws=()=>{P!==null&&ke.mutate({id:P,data:O})};return e.jsxs(et,{children:[ie&&e.jsxs("div",{className:"fixed bottom-12 right-4 z-[70] bg-black/80 border border-primary text-primary font-terminal text-[10px] px-2 py-1 rounded-none",children:[e.jsx("div",{children:"Brain modals"}),e.jsxs("div",{children:["Edit session: ",r??"none"]}),e.jsxs("div",{children:["Edit data: ",te?"yes":"no"]}),e.jsxs("div",{children:["Delete open: ",u?"yes":"no"]}),e.jsxs("div",{children:["Delete count: ",h.length]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h1",{className:"font-arcade text-xl text-primary flex items-center gap-2",children:[e.jsx(st,{className:"w-6 h-6"}),"BRAIN ANALYTICS"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-arcade text-lg text-primary mb-4",children:"SYSTEM STATUS"}),e.jsx(re,{className:"brain-card rounded-none",children:e.jsx(oe,{className:"p-3",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 font-terminal text-xs",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${Q?.connected?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-muted-foreground",children:"Obsidian"}),e.jsx("span",{className:"text-primary",children:Q?.connected?"Online":"Offline"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${Y?.connected?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-muted-foreground",children:"Anki"}),e.jsx("span",{className:"text-primary",children:Y?.connected?"Connected":"Offline"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[e.jsxs("span",{children:["Cards: ",e.jsx("span",{className:"text-primary",children:se?.totalCards||0})]}),e.jsxs("span",{children:["Drafts: ",e.jsx("span",{className:"text-primary",children:X.length})]})]})]})})})]}),e.jsxs(at,{defaultValue:"ingestion",className:"w-full",children:[e.jsxs(rt,{className:"grid w-full grid-cols-3 rounded-none bg-black border border-secondary/40",children:[e.jsx(Pe,{value:"ingestion",className:"font-arcade text-xs rounded-none data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"INGESTION"}),e.jsx(Pe,{value:"data",className:"font-arcade text-xs rounded-none data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"DATA"}),e.jsx(Pe,{value:"integrations",className:"font-arcade text-xs rounded-none data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"INTEGRATIONS"})]}),e.jsx(Oe,{value:"ingestion",className:"border border-t-0 border-secondary/40 rounded-none",children:e.jsx(_t,{})}),e.jsx(Oe,{value:"data",className:"border border-t-0 border-secondary/40 rounded-none",children:e.jsx($t,{})}),e.jsx(Oe,{value:"integrations",className:"border border-t-0 border-secondary/40 rounded-none",children:e.jsxs("div",{className:"space-y-4 p-4 min-w-0",children:[e.jsxs(re,{className:"brain-card rounded-none",children:[e.jsxs(ye,{className:"border-b border-secondary/50 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(je,{className:"font-arcade text-sm flex items-center gap-2",children:[e.jsx(dt,{className:"w-4 h-4"}),"OBSIDIAN VAULT",Q?.connected?e.jsx(pe,{className:"w-3 h-3 text-green-500"}):e.jsx(he,{className:"w-3 h-3 text-red-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(k,{size:"sm",variant:"outline",className:"h-6 px-2 rounded-none font-terminal text-xs",onClick:$s,disabled:!Q?.connected,children:[e.jsx(it,{className:"w-3 h-3 mr-1"}),"New Note"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C,onChange:s=>v(s.target.checked),disabled:!Q?.connected,className:"w-4 h-4 accent-primary"}),e.jsx("span",{className:"font-terminal text-xs",children:"Auto-Sync"})]})]})]}),e.jsx("div",{className:"flex items-center gap-1 mt-2 flex-wrap",children:Ce.map(s=>e.jsx(k,{size:"sm",variant:t===s.path?"default":"outline",className:"h-6 px-2 rounded-none font-terminal text-xs",onClick:()=>me(s.path),children:s.name},s.path))}),t&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 font-terminal text-xs text-muted-foreground",children:[e.jsx("button",{onClick:()=>me(""),className:"hover:text-primary",children:"vault"}),t.split("/").map((s,l,S)=>e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(tt,{className:"w-3 h-3"}),e.jsx("button",{onClick:()=>me(S.slice(0,l+1).join("/")),className:"hover:text-primary",children:s})]},l))]})]}),e.jsx(oe,{className:"p-0",children:Q?.connected?e.jsxs("div",{className:"grid md:grid-cols-2 h-[240px] md:h-[300px]",children:[e.jsx("div",{className:"border-r border-secondary/30",children:e.jsx(ue,{className:"h-[240px] md:h-[300px]",children:e.jsxs("div",{className:"p-2 space-y-1",children:[t&&e.jsxs("button",{onClick:()=>{const s=t.split("/");s.pop(),me(s.join("/"))},className:"w-full flex items-center gap-2 p-2 hover:bg-secondary/20 font-terminal text-xs text-muted-foreground",children:[e.jsx(es,{className:"w-3 h-3"}),".."]}),qs?.files?.map(s=>{const l=typeof s=="string"?s:s.path,S=l.endsWith("/"),I=l.replace(/\/$/,"").split("/").pop()||l;return e.jsxs("button",{onClick:()=>{if(S){const ne=I.replace(/\/$/,"");me(t?`${t}/${ne}`:ne)}else{const ne=t?`${t}/${I}`:I;zs(ne)}},className:`w-full flex items-center gap-2 p-2 hover:bg-secondary/20 font-terminal text-xs ${f?.endsWith(I)?"bg-primary/20 text-primary":""}`,children:[S?e.jsx(es,{className:"w-3 h-3 text-yellow-500"}):e.jsx(ft,{className:"w-3 h-3 text-blue-400"}),I]},l)})]})})}),e.jsx("div",{className:"flex flex-col h-[240px] md:h-[300px]",children:f?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-secondary/30",children:[e.jsxs("span",{className:"font-terminal text-xs text-primary truncate",children:[f.split("/").pop(),ce&&e.jsx("span",{className:"text-yellow-500 ml-1",children:"*"})]}),e.jsxs(k,{size:"sm",variant:"ghost",onClick:_s,disabled:!ce||W,className:"h-6 px-2",children:[e.jsx(Ae,{className:"w-3 h-3 mr-1"}),W?"Saving...":"Save"]})]}),e.jsx("textarea",{value:U,onChange:s=>{B(s.target.value),J(!0)},className:"flex-1 w-full p-3 bg-black/60 font-terminal text-sm resize-none focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"File content..."})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center font-terminal text-xs text-muted-foreground",children:"Select a file to edit"})})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"font-terminal text-xs text-red-400 mb-2",children:"Obsidian Offline"}),e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"Open Obsidian with Local REST API plugin enabled"})]})})]}),e.jsxs(re,{className:"brain-card rounded-none",children:[e.jsx(ye,{className:"border-b border-secondary/50 p-3",children:e.jsxs(je,{className:"font-arcade text-xs flex items-center gap-2 text-muted-foreground",children:[e.jsx(us,{className:"w-3 h-3"}),"ANKI INTEGRATION",Y?.connected?e.jsx(pe,{className:"w-3 h-3 text-green-500 ml-auto"}):e.jsx(he,{className:"w-3 h-3 text-red-500 ml-auto"})]})}),e.jsx(oe,{className:"p-4 space-y-3",children:Bs?e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"Checking Anki..."}):Y?.connected?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-terminal text-xs text-muted-foreground",children:"Status:"}),e.jsx(Ze,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"Connected"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-terminal text-xs text-muted-foreground",children:"Cards Created:"}),e.jsx("span",{className:"font-arcade text-xs text-primary",children:se?.totalCards||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-terminal text-xs text-muted-foreground",children:"Due Today:"}),e.jsx("span",{className:"font-arcade text-xs text-secondary",children:Ks?.dueCount||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-terminal text-xs text-muted-foreground",children:"Reviewed Today:"}),e.jsx("span",{className:"font-arcade text-xs text-muted-foreground",children:Y.reviewedToday||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-terminal text-xs text-muted-foreground",children:"Decks:"}),e.jsx("span",{className:"font-arcade text-xs text-muted-foreground",children:Y.decks?.length||0})]}),e.jsxs("div",{className:"pt-2 flex gap-2",children:[e.jsxs(k,{size:"sm",variant:"outline",className:"flex-1 font-terminal text-xs",onClick:()=>He(),children:[e.jsx(ss,{className:"w-3 h-3 mr-1"}),"Refresh"]}),e.jsx(k,{size:"sm",className:"flex-1 font-terminal text-xs bg-secondary hover:bg-secondary/80",onClick:()=>we.mutate(),disabled:we.isPending,children:we.isPending?"Syncing...":"Sync Cards"})]}),X.length>0&&e.jsxs("div",{className:"pt-3 border-t border-secondary/30",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"font-arcade text-[10px] text-yellow-400",children:["PENDING CARDS (",X.length,")"]}),e.jsx("div",{className:"flex gap-1",children:e.jsx(k,{size:"sm",variant:"outline",className:"h-5 px-2 text-[10px] font-terminal",onClick:()=>{p.size===X.length?y(new Set):y(new Set(X.map(s=>s.id)))},children:p.size===X.length?"None":"All"})})]}),p.size>0&&e.jsxs("div",{className:"flex gap-1 mb-2",children:[e.jsxs(k,{size:"sm",className:"h-6 px-2 text-[10px] font-terminal bg-green-600 hover:bg-green-700",onClick:()=>{p.forEach(s=>Ue.mutate(s)),y(new Set)},children:[e.jsx(pe,{className:"w-3 h-3 mr-1"}),"Approve (",p.size,")"]}),e.jsxs(k,{size:"sm",variant:"destructive",className:"h-6 px-2 text-[10px] font-terminal",onClick:()=>{p.forEach(s=>We.mutate(s)),y(new Set)},children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),"Delete (",p.size,")"]})]}),e.jsx(ue,{className:"h-[200px]",children:e.jsx("div",{className:"space-y-2",children:X.map(s=>e.jsx("div",{className:`p-2 bg-black/40 border text-xs ${p.has(s.id)?"border-primary":"border-secondary/30"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ee,{checked:p.has(s.id),onCheckedChange:l=>{const S=new Set(p);l?S.add(s.id):S.delete(s.id),y(S)},className:"mt-1 border-secondary data-[state=checked]:bg-primary"}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsx("div",{className:"font-terminal text-primary truncate",children:s.front}),e.jsx("div",{className:"font-terminal text-muted-foreground mt-1 truncate",children:s.back}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Ze,{variant:"outline",className:"text-[9px] border-blue-500/50 text-blue-400 shrink-0",children:s.deckName}),e.jsx(k,{size:"icon",variant:"outline",className:"h-5 w-5 shrink-0 border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/20",onClick:()=>Us(s),title:"Edit card",children:e.jsx(fe,{className:"w-3 h-3"})}),e.jsx(k,{size:"icon",variant:"outline",className:"h-5 w-5 shrink-0 border-green-500/50 text-green-400 hover:bg-green-500/20",onClick:()=>Ue.mutate(s.id),title:"Approve card",children:e.jsx(pe,{className:"w-3 h-3"})}),e.jsx(k,{size:"icon",variant:"outline",className:"h-5 w-5 shrink-0 border-red-500/50 text-red-400 hover:bg-red-500/20",onClick:()=>We.mutate(s.id),title:"Delete card",children:e.jsx(ae,{className:"w-3 h-3"})})]})]})]})},s.id))})})]})]}):e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"font-terminal text-xs text-red-400",children:Y?.error||"Anki not connected"}),e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"Open Anki with AnkiConnect plugin"}),e.jsxs(k,{size:"sm",variant:"outline",className:"font-terminal text-xs",onClick:()=>He(),children:[e.jsx(ss,{className:"w-3 h-3 mr-1"}),"Retry"]})]})})]})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-arcade text-lg text-primary mb-4",children:"SESSION EVIDENCE"}),e.jsx(re,{className:"brain-card rounded-none",children:e.jsxs(oe,{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-arcade text-primary mb-2 block",children:"Semester"}),e.jsxs(De,{value:w,onValueChange:s=>{L(s);const l=new URLSearchParams(window.location.search);s==="all"?l.delete("semester"):l.set("semester",s),window.history.replaceState({},"",`?${l.toString()}`)},children:[e.jsx(Te,{className:"rounded-none border-primary",children:e.jsx(Ee,{})}),e.jsxs(Ie,{children:[e.jsx(M,{value:"all",children:"All"}),e.jsx(M,{value:"1",children:"Semester 1 (Fall 2025)"}),e.jsx(M,{value:"2",children:"Semester 2 (Spring 2026)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-arcade text-primary mb-2 block",children:"Start Date"}),e.jsx(be,{type:"date",value:T,onChange:s=>{q(s.target.value);const l=new URLSearchParams(window.location.search);s.target.value?l.set("start",s.target.value):l.delete("start"),window.history.replaceState({},"",`?${l.toString()}`)},className:"rounded-none border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-arcade text-primary mb-2 block",children:"End Date"}),e.jsx(be,{type:"date",value:R,onChange:s=>{z(s.target.value);const l=new URLSearchParams(window.location.search);s.target.value?l.set("end",s.target.value):l.delete("end"),window.history.replaceState({},"",`?${l.toString()}`)},className:"rounded-none border-primary"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(k,{variant:"outline",onClick:()=>{L("all"),q(""),z(""),window.history.replaceState({},"",window.location.pathname)},className:"rounded-none border-primary w-full",children:"Clear Filters"})})]}),b?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"Loading sessions..."})}):x.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"No sessions found"})}):e.jsx(ue,{className:"h-[400px]",children:e.jsxs(xs,{children:[e.jsx(hs,{children:e.jsxs(Re,{className:"border-secondary/30",children:[e.jsx(V,{className:"w-12",children:e.jsx(ee,{checked:a.size===x.length&&x.length>0,onCheckedChange:Os,className:"border-secondary"})}),e.jsx(V,{className:"font-arcade text-xs text-primary",children:"Date"}),e.jsx(V,{className:"font-arcade text-xs text-primary",children:"Mode"}),e.jsx(V,{className:"font-arcade text-xs text-primary",children:"Minutes"}),e.jsx(V,{className:"font-arcade text-xs text-primary",children:"Cards"}),e.jsx(V,{className:"font-arcade text-xs text-primary",children:"Concepts"}),e.jsx(V,{className:"font-arcade text-xs text-primary",children:"Actions"})]})}),e.jsx(ps,{children:x.map(s=>e.jsxs(Re,{className:"border-secondary/30 hover:bg-secondary/10",children:[e.jsx(G,{children:e.jsx(ee,{checked:a.has(s.id),onCheckedChange:()=>Ps(s.id),className:"border-secondary"})}),e.jsx(G,{className:"font-terminal text-xs",children:Bt(s.createdAt,"MMM dd, yyyy")}),e.jsx(G,{className:"font-terminal text-xs text-muted-foreground",children:s.mode||"-"}),e.jsx(G,{className:"font-terminal text-xs text-muted-foreground",children:s.minutes||"-"}),e.jsx(G,{className:"font-terminal text-xs text-muted-foreground",children:s.cards||"-"}),e.jsx(G,{className:"font-terminal text-xs text-muted-foreground",children:Array.isArray(s.concepts)?s.concepts.length:0}),e.jsxs(G,{className:"flex gap-1",children:[e.jsx(k,{size:"icon",variant:"outline",className:"h-6 w-6 border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/20",onClick:()=>d(s.id),children:e.jsx(fe,{className:"w-3 h-3"})}),e.jsx(k,{size:"icon",variant:"outline",className:"h-6 w-6 border-red-500/50 text-red-400 hover:bg-red-500/20",onClick:()=>Ms(s.id),children:e.jsx(ae,{className:"w-3 h-3"})})]})]},s.id))})]})}),a.size>0&&e.jsx("div",{className:"flex gap-2 pt-4 border-t border-secondary/30",children:e.jsxs(k,{size:"sm",className:"flex-1 font-terminal text-xs bg-red-600 hover:bg-red-700",onClick:Rs,children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),"Delete Selected (",a.size,")"]})})]})})]})]})]}),e.jsx(Ye,{open:!!te,onOpenChange:s=>{s||d(null)},children:e.jsxs(Ve,{"data-modal":"brain-edit-session",className:"bg-black border-2 border-primary rounded-none max-w-2xl translate-y-0",style:{zIndex:100005,top:"6rem",left:"50%",transform:"translate(-50%, 0)"},children:[e.jsxs(Ge,{children:[e.jsxs(Je,{className:"font-arcade text-primary flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5"}),"EDIT SESSION #",r]}),e.jsx(Qe,{className:"font-terminal text-muted-foreground",children:"Update WRAP methodology fields for this study session"})]}),e.jsxs("div",{className:"space-y-4 font-terminal",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Mode"}),e.jsxs(De,{value:j.mode,onValueChange:s=>E(l=>({...l,mode:s})),children:[e.jsx(Te,{className:"rounded-none border-secondary",children:e.jsx(Ee,{placeholder:"Select mode"})}),e.jsxs(Ie,{className:"rounded-none border-secondary bg-black",children:[e.jsx(M,{value:"Core",children:"Core"}),e.jsx(M,{value:"Sprint",children:"Sprint"}),e.jsx(M,{value:"Drill",children:"Drill"}),e.jsx(M,{value:"study",children:"Study"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Minutes"}),e.jsx(be,{type:"number",value:j.minutes,onChange:s=>E(l=>({...l,minutes:s.target.value})),className:"rounded-none border-secondary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Cards"}),e.jsx(be,{type:"number",value:j.cards,onChange:s=>E(l=>({...l,cards:s.target.value})),className:"rounded-none border-secondary"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Confusions (comma-separated)"}),e.jsx(Z,{value:j.confusions,onChange:s=>E(l=>({...l,confusions:s.target.value})),placeholder:"e.g., muscle insertion points, nerve pathways",className:"rounded-none border-secondary min-h-[60px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Weak Anchors (comma-separated)"}),e.jsx(Z,{value:j.weakAnchors,onChange:s=>E(l=>({...l,weakAnchors:s.target.value})),placeholder:"e.g., brachial plexus diagram, ROM measurements",className:"rounded-none border-secondary min-h-[60px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Concepts (comma-separated)"}),e.jsx(Z,{value:j.concepts,onChange:s=>E(l=>({...l,concepts:s.target.value})),placeholder:"e.g., upper extremity anatomy, peripheral nerves",className:"rounded-none border-secondary min-h-[60px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Issues (comma-separated)"}),e.jsx(Z,{value:j.issues,onChange:s=>E(l=>({...l,issues:s.target.value})),placeholder:"e.g., interrupted by phone, lost focus after 30 min",className:"rounded-none border-secondary min-h-[60px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Notes"}),e.jsx(Z,{value:j.notes,onChange:s=>E(l=>({...l,notes:s.target.value})),placeholder:"Free-form observations about the session",className:"rounded-none border-secondary min-h-[80px]"})]})]}),e.jsxs(Xe,{className:"gap-2",children:[e.jsxs(k,{variant:"outline",onClick:()=>d(null),className:"font-terminal rounded-none border-secondary hover:bg-secondary/20",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(k,{onClick:Ls,className:"font-terminal rounded-none bg-primary hover:bg-primary/80",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),e.jsx(as,{open:u&&h.length>0,onOpenChange:i,children:e.jsxs(rs,{"data-modal":"brain-delete-session",className:"bg-black border-2 border-destructive rounded-none translate-y-0",style:{zIndex:100005,top:"6rem",left:"50%",transform:"translate(-50%, 0)"},children:[e.jsxs(os,{children:[e.jsxs(ls,{className:"font-arcade text-destructive flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5"}),"CONFIRM DELETE"]}),e.jsxs(cs,{className:"font-terminal text-muted-foreground",children:["Are you sure you want to delete ",h.length," session",h.length!==1?"s":"","? This action cannot be undone."]})]}),e.jsxs(ds,{className:"gap-2",children:[e.jsx(is,{className:"font-terminal rounded-none border-secondary hover:bg-secondary/20",children:"Cancel"}),e.jsxs(ms,{onClick:Fs,className:"font-terminal rounded-none bg-destructive hover:bg-destructive/80 text-destructive-foreground",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})}),e.jsx(Ye,{open:P!==null,onOpenChange:s=>{s||A(null)},children:e.jsxs(Ve,{"data-modal":"brain-edit-draft",className:"bg-black border-2 border-primary rounded-none max-w-lg translate-y-0",style:{zIndex:100005,top:"6rem",left:"50%",transform:"translate(-50%, 0)"},children:[e.jsxs(Ge,{children:[e.jsxs(Je,{className:"font-arcade text-primary flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5"}),"EDIT CARD"]}),e.jsx(Qe,{className:"font-terminal text-muted-foreground",children:"Edit card content and select target deck"})]}),e.jsxs("div",{className:"space-y-4 font-terminal",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Front (Question)"}),e.jsx(Z,{value:O.front,onChange:s=>D(l=>({...l,front:s.target.value})),placeholder:"Card front...",className:"rounded-none border-secondary min-h-[80px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Back (Answer)"}),e.jsx(Z,{value:O.back,onChange:s=>D(l=>({...l,back:s.target.value})),placeholder:"Card back...",className:"rounded-none border-secondary min-h-[80px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Target Deck"}),e.jsxs(De,{value:O.deckName,onValueChange:s=>D(l=>({...l,deckName:s})),children:[e.jsx(Te,{className:"rounded-none border-secondary",children:e.jsx(Ee,{placeholder:"Select deck"})}),e.jsxs(Ie,{className:"rounded-none border-secondary bg-black max-h-[200px]",children:[e.jsx(M,{value:"PT::EBP",children:"PT::EBP (Evidence Based Practice)"}),e.jsx(M,{value:"PT::ExPhys",children:"PT::ExPhys (Exercise Physiology)"}),e.jsx(M,{value:"PT::MS1",children:"PT::MS1 (Movement Science 1)"}),e.jsx(M,{value:"PT::Neuro",children:"PT::Neuro (Neuroscience)"}),e.jsx(M,{value:"PT::TI",children:"PT::TI (Therapeutic Intervention)"}),e.jsx(M,{value:"PT::General",children:"PT::General"}),Y?.decks?.filter(s=>!s.startsWith("PT::")).map(s=>e.jsx(M,{value:s,children:s},s))]})]}),e.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Current: ",e.jsx("span",{className:"text-blue-400",children:O.deckName})]})]})]}),e.jsxs(Xe,{className:"gap-2",children:[e.jsxs(k,{variant:"outline",onClick:()=>A(null),className:"font-terminal rounded-none border-secondary hover:bg-secondary/20",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(k,{onClick:Ws,disabled:ke.isPending,className:"font-terminal rounded-none bg-primary hover:bg-primary/80",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),ke.isPending?"Saving...":"Save"]})]})]})})]})}export{sn as default};
