import{c as I,j as e,r as c,X as B,e as re,d as ne}from"./index-Dxlik-mr.js";import{p as ie,B as C,f as O,h as K,j as q,k as F,t as $,u as E,e as v,L as le,F as oe,I as S,o as j}from"./index-2jtuER8f.js";import{S as _,a as T,b as R,c as M,d as w}from"./select-DgPIGEf7.js";import{C as de}from"./clock-D92P3Lyc.js";import{A as ce,S as k}from"./star-DbCpGzQS.js";import{P as L}from"./plus-CCgAIo14.js";import{T as me}from"./trending-up-DpfmqFIX.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],U=I("chart-column",xe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],he=I("link-2",ue);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ge=I("zap",pe),fe={prepare:"border-yellow-500 bg-yellow-500/10",encode:"border-purple-500 bg-purple-500/10",interrogate:"border-green-500 bg-green-500/10",retrieve:"border-red-500 bg-red-500/10",refine:"border-blue-500 bg-blue-500/10",overlearn:"border-gray-500 bg-gray-500/10"},ye={prepare:"bg-yellow-500/20 text-yellow-400",encode:"bg-purple-500/20 text-purple-400",interrogate:"bg-green-500/20 text-green-400",retrieve:"bg-red-500/20 text-red-400",refine:"bg-blue-500/20 text-blue-400",overlearn:"bg-gray-500/20 text-gray-400"},je={low:"text-green-400",medium:"text-yellow-400",high:"text-red-400"};function D({block:a,compact:u,onClick:d,draggable:i,onDragStart:l}){const o=fe[a.category]||"border-secondary bg-secondary/10",s=ye[a.category]||"bg-secondary/20 text-muted-foreground",m=je[a.energy_cost]||"text-muted-foreground";return u?e.jsx("div",{className:`border-2 ${o} p-2 rounded-none cursor-pointer hover:opacity-80 transition-opacity`,onClick:d,draggable:i,onDragStart:l,children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"font-terminal text-xs truncate",children:a.name}),e.jsx("span",{className:`text-[9px] font-arcade px-1 py-0.5 rounded-none ${s}`,children:a.category.toUpperCase()})]})}):e.jsxs("div",{className:`border-2 ${o} p-3 rounded-none cursor-pointer hover:opacity-80 transition-opacity`,onClick:d,draggable:i,onDragStart:l,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-arcade text-xs",children:a.name}),e.jsx("span",{className:`text-[9px] font-arcade px-1.5 py-0.5 rounded-none ${s}`,children:a.category.toUpperCase()})]}),a.description&&e.jsx("p",{className:"font-terminal text-xs text-muted-foreground mb-2 line-clamp-2",children:a.description}),a.evidence&&e.jsx("p",{className:"font-terminal text-[10px] text-primary/50 italic mb-2 line-clamp-1",children:a.evidence}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground font-terminal",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(de,{className:"w-3 h-3"}),a.default_duration_min,"m"]}),e.jsxs("span",{className:`flex items-center gap-1 ${m}`,children:[e.jsx(ge,{className:"w-3 h-3"}),a.energy_cost]}),a.best_stage&&e.jsx("span",{className:"text-primary/60",children:a.best_stage.replace("_"," ")})]}),a.tags&&a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:a.tags.slice(0,4).map(h=>e.jsx("span",{className:"text-[9px] font-terminal bg-secondary/30 px-1 py-0.5 text-muted-foreground",children:h},h))})]})}function be({chain:a,allBlocks:u,onSave:d,readOnly:i}){const[l,o]=c.useState(a.block_ids||[]),[s,m]=c.useState(!1),h=new Map(u.map(r=>[r.id,r])),f=l.map(r=>h.get(r)).filter(Boolean),p=r=>{const n=[...l];n.splice(r,1),o(n),d(n)},b=r=>{const n=[...l,r];o(n),d(n),m(!1)},g=r=>{if(r===0)return;const n=[...l];[n[r-1],n[r]]=[n[r],n[r-1]],o(n),d(n)};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-arcade text-xs text-primary",children:"CHAIN BLOCKS"}),e.jsxs("span",{className:"text-[10px] font-terminal text-muted-foreground",children:["(",f.length," blocks)"]})]}),f.length===0&&e.jsx("div",{className:"border-2 border-dashed border-secondary p-4 text-center",children:e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"No blocks in this chain yet"})}),e.jsx("div",{className:"space-y-2",children:f.map((r,n)=>e.jsxs("div",{className:"flex items-center gap-2",children:[!i&&e.jsx("button",{className:"text-muted-foreground hover:text-primary cursor-grab",onClick:()=>g(n),title:"Move up",children:e.jsx(ie,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex-1",children:e.jsx(D,{block:r,compact:!0})}),n<f.length-1&&e.jsx(ce,{className:"w-3 h-3 text-primary/40 shrink-0"}),!i&&e.jsx("button",{className:"text-muted-foreground hover:text-red-400",onClick:()=>p(n),children:e.jsx(B,{className:"w-3 h-3"})})]},`${r.id}-${n}`))}),!i&&e.jsx("div",{children:s?e.jsxs("div",{className:"border-2 border-primary/30 bg-black/50 p-3 space-y-2 max-h-48 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-arcade text-[10px] text-primary",children:"ADD BLOCK"}),e.jsx("button",{onClick:()=>m(!1),children:e.jsx(B,{className:"w-3 h-3 text-muted-foreground"})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:u.map(r=>e.jsx(D,{block:r,compact:!0,onClick:()=>b(r.id)},r.id))})]}):e.jsxs(C,{variant:"outline",size:"sm",className:"w-full rounded-none border-2 border-dashed border-secondary font-arcade text-xs",onClick:()=>m(!0),children:[e.jsx(L,{className:"w-3 h-3 mr-1"})," ADD BLOCK"]})})]})}const Ne={prepare:"bg-yellow-500",encode:"bg-purple-500",interrogate:"bg-green-500",retrieve:"bg-red-500",refine:"bg-blue-500",overlearn:"bg-gray-500"};function ve({data:a}){const{block_stats:u,chain_stats:d,recent_ratings:i}=a,l=u.filter(s=>s.usage_count>0),o=d.filter(s=>s.usage_count>0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-2 border-secondary bg-black/40 p-4 rounded-none",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(U,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-arcade text-xs text-primary",children:"BLOCK EFFECTIVENESS"})]}),l.length===0?e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"No ratings yet. Rate methods after study sessions to see analytics."}):e.jsx("div",{className:"space-y-2",children:l.map(s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-terminal text-xs w-32 truncate",children:s.name}),e.jsx("div",{className:"flex-1 h-4 bg-secondary/20 rounded-none overflow-hidden",children:e.jsx("div",{className:`h-full ${Ne[s.category]||"bg-primary"}`,style:{width:`${(s.avg_effectiveness??0)/5*100}%`}})}),e.jsx("span",{className:"font-terminal text-[10px] text-muted-foreground w-8 text-right",children:s.avg_effectiveness??"—"}),e.jsxs("span",{className:"font-terminal text-[10px] text-muted-foreground w-6 text-right",children:["(",s.usage_count,")"]})]},s.id))})]}),e.jsxs("div",{className:"border-2 border-secondary bg-black/40 p-4 rounded-none",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(me,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-arcade text-xs text-primary",children:"CHAIN COMPARISON"})]}),o.length===0?e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"No chain ratings yet."}):e.jsx("div",{className:"space-y-2",children:o.map(s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-terminal text-xs w-40 truncate",children:s.name}),e.jsx("div",{className:"flex-1 h-4 bg-secondary/20 rounded-none overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${(s.avg_effectiveness??0)/5*100}%`}})}),e.jsx("span",{className:"font-terminal text-[10px] text-muted-foreground w-8 text-right",children:s.avg_effectiveness??"—"})]},s.id))})]}),e.jsxs("div",{className:"border-2 border-secondary bg-black/40 p-4 rounded-none",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(k,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-arcade text-xs text-primary",children:"RECENT RATINGS"})]}),i.length===0?e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"No ratings recorded yet."}):e.jsx("div",{className:"space-y-2",children:i.slice(0,10).map(s=>e.jsxs("div",{className:"flex items-center justify-between border border-secondary/50 p-2 rounded-none",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-terminal text-xs",children:s.method_name||s.chain_name||"Unknown"}),s.notes&&e.jsx("p",{className:"font-terminal text-[10px] text-muted-foreground mt-0.5 truncate max-w-[200px]",children:s.notes})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-terminal",children:[e.jsxs("span",{children:["E:",s.effectiveness,"/5"]}),e.jsxs("span",{children:["G:",s.engagement,"/5"]})]})]},s.id))})]})]})}function H({value:a,onChange:u,label:d}){return e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"font-arcade text-[10px] text-muted-foreground",children:d}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(i=>e.jsx("button",{onClick:()=>u(i),className:"p-0.5 hover:scale-110 transition-transform",children:e.jsx(k,{className:`w-5 h-5 ${i<=a?"text-primary fill-primary":"text-secondary"}`})},i))})]})}function Ce({open:a,onClose:u,onSubmit:d,targetName:i,targetType:l}){const[o,s]=c.useState(0),[m,h]=c.useState(0),[f,p]=c.useState(""),b=()=>{o===0||m===0||(d({effectiveness:o,engagement:m,notes:f}),s(0),h(0),p(""),u())};return e.jsx(O,{open:a,onOpenChange:g=>!g&&u(),children:e.jsxs(K,{className:"bg-black border-2 border-primary rounded-none max-w-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(q,{className:"font-arcade text-xs text-primary",children:["RATE ",l.toUpperCase()]}),e.jsx(F,{className:"sr-only",children:"Rate the effectiveness and engagement of this method"}),e.jsx("button",{onClick:u,children:e.jsx(B,{className:"w-4 h-4 text-muted-foreground"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"font-terminal text-sm",children:i}),e.jsx(H,{value:o,onChange:s,label:"EFFECTIVENESS (did it help you learn?)"}),e.jsx(H,{value:m,onChange:h,label:"ENGAGEMENT (did it hold your focus?)"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-arcade text-[10px] text-muted-foreground",children:"NOTES (optional)"}),e.jsx($,{value:f,onChange:g=>p(g.target.value),placeholder:"What worked? What didn't?",className:"h-16 bg-secondary/20 border-2 border-secondary font-terminal text-sm rounded-none resize-none mt-1"})]}),e.jsx(C,{className:"w-full font-arcade rounded-none text-xs",onClick:b,disabled:o===0||m===0,children:"SUBMIT RATING"})]})]})})}const we=["all","prepare","encode","interrogate","retrieve","refine","overlearn"],Se=[{id:"library",label:"LIBRARY",icon:oe},{id:"chains",label:"CHAINS",icon:he},{id:"analytics",label:"ANALYTICS",icon:U}];function De(){const[a,u]=c.useState("library"),[d,i]=c.useState("all"),[l,o]=c.useState(""),[s,m]=c.useState(!1),[h,f]=c.useState(!1),[p,b]=c.useState(null),[g,r]=c.useState(null),{toast:n}=re(),y=ne(),{data:x=[],isLoading:Q}=E({queryKey:["methods"],queryFn:()=>j.methods.getAll()}),{data:A=[],isLoading:P}=E({queryKey:["chains"],queryFn:()=>j.chains.getAll()}),{data:G,isLoading:V}=E({queryKey:["methods-analytics"],queryFn:()=>j.methods.analytics(),enabled:a==="analytics"}),Y=v({mutationFn:j.methods.create,onSuccess:()=>{y.invalidateQueries({queryKey:["methods"]}),y.invalidateQueries({queryKey:["methods-analytics"]}),m(!1),n({title:"Method block created"})}}),W=v({mutationFn:j.methods.delete,onSuccess:()=>{y.invalidateQueries({queryKey:["methods"]}),y.invalidateQueries({queryKey:["methods-analytics"]}),n({title:"Method block deleted"})}}),X=v({mutationFn:j.chains.create,onSuccess:()=>{y.invalidateQueries({queryKey:["chains"]}),y.invalidateQueries({queryKey:["methods-analytics"]}),f(!1),n({title:"Chain created"})}}),Z=v({mutationFn:({id:t,data:N})=>j.chains.update(t,N),onSuccess:()=>{y.invalidateQueries({queryKey:["chains"]}),n({title:"Chain updated"})}}),J=v({mutationFn:j.chains.delete,onSuccess:()=>{y.invalidateQueries({queryKey:["chains"]}),y.invalidateQueries({queryKey:["methods-analytics"]}),b(null),n({title:"Chain deleted"})}}),ee=v({mutationFn:({id:t,data:N})=>j.methods.rate(t,N),onSuccess:()=>{y.invalidateQueries({queryKey:["methods-analytics"]}),n({title:"Rating submitted"})}}),te=v({mutationFn:({id:t,data:N})=>j.chains.rate(t,N),onSuccess:()=>{y.invalidateQueries({queryKey:["methods-analytics"]}),n({title:"Rating submitted"})}}),z=x.filter(t=>!(d!=="all"&&t.category!==d||l&&!t.name.toLowerCase().includes(l.toLowerCase()))),se=async t=>{const N=await j.chains.getOne(t.id);b(N)},ae=t=>{g&&(g.type==="method"?ee.mutate({id:g.id,data:t}):te.mutate({id:g.id,data:t}))};return e.jsx(le,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"font-arcade text-lg text-primary",children:"METHOD_LIBRARY"}),e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"Composable study methods — build, chain, rate, optimize"})]})}),e.jsx("div",{className:"flex gap-1 border-b-2 border-secondary pb-0",children:Se.map(t=>e.jsxs("button",{onClick:()=>u(t.id),className:`flex items-center gap-1.5 px-3 py-2 font-arcade text-[10px] border-b-2 -mb-[2px] transition-colors ${a===t.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-primary/60"}`,children:[e.jsx(t.icon,{className:"w-3 h-3"}),t.label]},t.id))}),a==="library"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(S,{placeholder:"Search methods...",value:l,onChange:t=>o(t.target.value),className:"w-48 h-8 rounded-none border-2 border-secondary bg-black/40 font-terminal text-xs"}),e.jsx("div",{className:"flex gap-1",children:we.map(t=>e.jsx("button",{onClick:()=>i(t),className:`px-2 py-1 font-arcade text-[9px] border rounded-none transition-colors ${d===t?"border-primary bg-primary/20 text-primary":"border-secondary text-muted-foreground hover:border-primary/40"}`,children:t.toUpperCase()},t))}),e.jsxs(C,{variant:"outline",size:"sm",className:"ml-auto rounded-none border-2 font-arcade text-[10px] h-8",onClick:()=>m(!0),children:[e.jsx(L,{className:"w-3 h-3 mr-1"})," ADD BLOCK"]})]}),Q?e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"Loading methods..."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:z.map(t=>e.jsxs("div",{className:"relative group",children:[e.jsx(D,{block:t}),e.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[e.jsx("button",{className:"p-1 bg-black/80 border border-primary/40 hover:border-primary",onClick:()=>r({id:t.id,name:t.name,type:"method"}),title:"Rate",children:e.jsx(k,{className:"w-3 h-3 text-primary"})}),e.jsx("button",{className:"p-1 bg-black/80 border border-red-500/40 hover:border-red-500 text-red-400",onClick:()=>{confirm(`Delete "${t.name}"?`)&&W.mutate(t.id)},title:"Delete",children:e.jsx("span",{className:"text-[10px]",children:"×"})})]})]},t.id))}),!Q&&z.length===0&&e.jsxs("p",{className:"font-terminal text-xs text-muted-foreground text-center py-8",children:["No methods found. ",d!=="all"?"Try a different category.":"Add your first method block."]})]}),a==="chains"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-arcade text-xs text-muted-foreground",children:[A.length," CHAINS (",A.filter(t=>t.is_template).length," templates)"]}),e.jsxs(C,{variant:"outline",size:"sm",className:"rounded-none border-2 font-arcade text-[10px] h-8",onClick:()=>f(!0),children:[e.jsx(L,{className:"w-3 h-3 mr-1"})," NEW CHAIN"]})]}),P?e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"Loading chains..."}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx("div",{className:"space-y-2",children:A.map(t=>e.jsxs("div",{onClick:()=>se(t),className:`border-2 p-3 rounded-none cursor-pointer transition-colors ${p?.id===t.id?"border-primary bg-primary/10":"border-secondary hover:border-primary/40"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-arcade text-xs",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.is_template?e.jsx("span",{className:"text-[9px] font-arcade bg-primary/20 text-primary px-1.5 py-0.5",children:"TEMPLATE"}):null,e.jsx("button",{className:"p-0.5 hover:text-primary",onClick:N=>{N.stopPropagation(),r({id:t.id,name:t.name,type:"chain"})},children:e.jsx(k,{className:"w-3 h-3"})})]})]}),t.description&&e.jsx("p",{className:"font-terminal text-xs text-muted-foreground line-clamp-1",children:t.description}),e.jsx("div",{className:"flex gap-1 mt-1.5",children:(t.block_ids||[]).length>0&&e.jsxs("span",{className:"text-[9px] font-terminal text-muted-foreground",children:[(t.block_ids||[]).length," blocks"]})})]},t.id))}),e.jsx("div",{className:"border-2 border-secondary bg-black/40 p-4 rounded-none",children:p?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-arcade text-sm text-primary",children:p.name}),!p.is_template&&e.jsx(C,{variant:"ghost",size:"sm",className:"text-red-400 rounded-none text-[10px] font-arcade h-6",onClick:()=>{confirm(`Delete chain "${p.name}"?`)&&J.mutate(p.id)},children:"DELETE"})]}),p.description&&e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:p.description}),e.jsx(be,{chain:p,allBlocks:x,readOnly:!!p.is_template,onSave:t=>{Z.mutate({id:p.id,data:{block_ids:t}})}})]}):e.jsx("div",{className:"flex items-center justify-center h-40",children:e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"Select a chain to view or edit"})})})]})]}),a==="analytics"&&e.jsx("div",{children:V?e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"Loading analytics..."}):G?e.jsx(ve,{data:G}):e.jsx("p",{className:"font-terminal text-xs text-muted-foreground",children:"Failed to load analytics."})}),e.jsx(ke,{open:s,onClose:()=>m(!1),onSubmit:t=>Y.mutate(t)}),e.jsx(Ae,{open:h,onClose:()=>f(!1),onSubmit:t=>X.mutate(t)}),g&&e.jsx(Ce,{open:!!g,onClose:()=>r(null),onSubmit:ae,targetName:g.name,targetType:g.type})]})})}function ke({open:a,onClose:u,onSubmit:d}){const[i,l]=c.useState(""),[o,s]=c.useState("prepare"),[m,h]=c.useState(""),[f,p]=c.useState(5),[b,g]=c.useState("medium"),[r,n]=c.useState(""),y=()=>{i.trim()&&(d({name:i.trim(),category:o,description:m.trim()||null,default_duration_min:f,energy_cost:b,best_stage:r||null,tags:[]}),l(""),h(""))};return e.jsx(O,{open:a,onOpenChange:x=>!x&&u(),children:e.jsxs(K,{className:"bg-black border-2 border-primary rounded-none max-w-md",children:[e.jsx(q,{className:"font-arcade text-xs text-primary",children:"NEW METHOD BLOCK"}),e.jsx(F,{className:"sr-only",children:"Create a new method block"}),e.jsxs("div",{className:"space-y-3 mt-2",children:[e.jsx(S,{placeholder:"Method name",value:i,onChange:x=>l(x.target.value),className:"rounded-none border-2 border-secondary bg-black/40 font-terminal text-sm"}),e.jsxs(_,{value:o,onValueChange:s,children:[e.jsx(T,{className:"rounded-none border-2 border-secondary bg-black/40 font-terminal text-sm",children:e.jsx(R,{})}),e.jsx(M,{className:"bg-black border-2 border-primary rounded-none",children:["prepare","encode","interrogate","retrieve","refine","overlearn"].map(x=>e.jsx(w,{value:x,className:"font-terminal text-sm",children:x.charAt(0).toUpperCase()+x.slice(1)},x))})]}),e.jsx($,{placeholder:"Description (optional)",value:m,onChange:x=>h(x.target.value),className:"h-16 rounded-none border-2 border-secondary bg-black/40 font-terminal text-sm resize-none"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-arcade text-[9px] text-muted-foreground",children:"DURATION"}),e.jsx(S,{type:"number",value:f,onChange:x=>p(Number(x.target.value)),className:"rounded-none border-2 border-secondary bg-black/40 font-terminal text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-arcade text-[9px] text-muted-foreground",children:"ENERGY"}),e.jsxs(_,{value:b,onValueChange:g,children:[e.jsx(T,{className:"rounded-none border-2 border-secondary bg-black/40 font-terminal text-xs",children:e.jsx(R,{})}),e.jsx(M,{className:"bg-black border-2 border-primary rounded-none",children:["low","medium","high"].map(x=>e.jsx(w,{value:x,className:"font-terminal text-sm",children:x},x))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-arcade text-[9px] text-muted-foreground",children:"BEST STAGE"}),e.jsxs(_,{value:r,onValueChange:n,children:[e.jsx(T,{className:"rounded-none border-2 border-secondary bg-black/40 font-terminal text-xs",children:e.jsx(R,{placeholder:"Any"})}),e.jsxs(M,{className:"bg-black border-2 border-primary rounded-none",children:[e.jsx(w,{value:"first_exposure",className:"font-terminal text-sm",children:"First Exposure"}),e.jsx(w,{value:"review",className:"font-terminal text-sm",children:"Review"}),e.jsx(w,{value:"exam_prep",className:"font-terminal text-sm",children:"Exam Prep"}),e.jsx(w,{value:"consolidation",className:"font-terminal text-sm",children:"Consolidation"})]})]})]})]}),e.jsx(C,{className:"w-full font-arcade rounded-none text-xs",onClick:y,disabled:!i.trim(),children:"CREATE BLOCK"})]})]})})}function Ae({open:a,onClose:u,onSubmit:d}){const[i,l]=c.useState(""),[o,s]=c.useState(""),m=()=>{i.trim()&&(d({name:i.trim(),description:o.trim()||null,block_ids:[],context_tags:{},is_template:0}),l(""),s(""))};return e.jsx(O,{open:a,onOpenChange:h=>!h&&u(),children:e.jsxs(K,{className:"bg-black border-2 border-primary rounded-none max-w-md",children:[e.jsx(q,{className:"font-arcade text-xs text-primary",children:"NEW CHAIN"}),e.jsx(F,{className:"sr-only",children:"Create a new method chain"}),e.jsxs("div",{className:"space-y-3 mt-2",children:[e.jsx(S,{placeholder:"Chain name",value:i,onChange:h=>l(h.target.value),className:"rounded-none border-2 border-secondary bg-black/40 font-terminal text-sm"}),e.jsx($,{placeholder:"Description (optional)",value:o,onChange:h=>s(h.target.value),className:"h-16 rounded-none border-2 border-secondary bg-black/40 font-terminal text-sm resize-none"}),e.jsx("p",{className:"font-terminal text-[10px] text-muted-foreground",children:"Add blocks to the chain after creating it."}),e.jsx(C,{className:"w-full font-arcade rounded-none text-xs",onClick:m,disabled:!i.trim(),children:"CREATE CHAIN"})]})]})})}export{De as default};
