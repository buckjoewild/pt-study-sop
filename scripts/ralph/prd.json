{
    "project":  "pt-study-sop",
    "branchName":  "ralph/setup-ralph",
    "description":  "Set up Ralph scaffolding, audit the Scholar system, and define Scholar-focused review/research flow.",
    "userStories":  [
                        {
                            "id":  "US-001",
                            "title":  "Audit Scholar system end-to-end",
                            "description":  "As a maintainer, I want a Scholar audit report that maps components, connections, expected behavior, actual behavior, and gaps so we can plan improvements.",
                            "acceptanceCriteria":  [
                                                       "Create scholar/outputs/audit_scholar_repo.md with sections: Inventory, Connections Map, Expected Behavior (with source file paths), Actual Behavior (with source file paths), Gaps \u0026 Risks, and Open Questions",
                                                       "Include a checklist of available vs missing AI artifacts in scholar/outputs",
                                                       "Report is stored under scholar/outputs; document any additional changes in the report",
                                                       "Typecheck passes"
                                                   ],
                            "priority":  1,
                            "passes":  true,
                            "notes":  ""
                        },
                        {
                            "id":  "US-002",
                            "title":  "Add Ralph loop script",
                            "description":  "As a maintainer, I want a ralph.sh loop so Ralph can run iterations automatically.",
                            "acceptanceCriteria":  [
                                                       "Add scripts/ralph/ralph.sh with bash loop and set -e",
                                                       "Default MAX_ITERATIONS is 10 and can be overridden via first arg",
                                                       "Pipes scripts/ralph/prompt.md into `codex exec --dangerously-bypass-approvals-and-sandbox -` and captures output",
                                                       "Exits 0 when output contains `\u003cpromise\u003eCOMPLETE\u003c/promise\u003e`",
                                                       "Sleeps briefly between iterations and exits 1 after max iterations",
                                                       "Typecheck passes"
                                                   ],
                            "priority":  2,
                            "passes":  true,
                            "notes":  ""
                        },
                        {
                            "id":  "US-003",
                            "title":  "Add Ralph prompt instructions",
                            "description":  "As a maintainer, I want clear iteration instructions so the agent follows the Ralph workflow.",
                            "acceptanceCriteria":  [
                                                       "Add scripts/ralph/prompt.md with steps: read prd.json + progress.txt, check branch, pick highest-priority story where passes=false, implement one story, run typecheck/tests, update AGENTS.md with reusable patterns, commit `feat: [ID] - [Title]`, mark passes true, append progress",
                                                       "Include a Progress Format section with date + story id and a Codebase Patterns header",
                                                       "Include stop condition `\u003cpromise\u003eCOMPLETE\u003c/promise\u003e`",
                                                       "Typecheck passes"
                                                   ],
                            "priority":  3,
                            "passes":  true,
                            "notes":  ""
                        },
                        {
                            "id":  "US-004",
                            "title":  "Add progress log scaffold",
                            "description":  "As a maintainer, I want a progress.txt template so Ralph can persist learnings between iterations.",
                            "acceptanceCriteria":  [
                                                       "Add scripts/ralph/progress.txt with a Ralph Progress Log header",
                                                       "Include Codebase Patterns and Key Files sections with placeholders",
                                                       "Typecheck passes"
                                                   ],
                            "priority":  4,
                            "passes":  true,
                            "notes":  ""
                        },
                        {
                            "id":  "US-005",
                            "title":  "Add Scholar AI artifact manifest",
                            "description":  "As a maintainer, I want an explicit list of Scholar AI-generated artifacts so coverage can be verified.",
                            "acceptanceCriteria":  [
                                                       "Add scholar/inputs/ai_artifacts_manifest.json listing output lanes and file patterns for summaries, questions, and recommendations",
                                                       "Document the manifest in scholar/README.md under Required Inputs",
                                                       "Typecheck passes"
                                                   ],
                            "priority":  5,
                            "passes":  true,
                            "notes":  ""
                        },
                        {
                            "id":  "US-006",
                            "title":  "Require coverage + dedupe in orchestrator runs",
                            "description":  "As a maintainer, I want orchestrator runs to use all AI artifacts and produce a traceable recommendation set.",
                            "acceptanceCriteria":  [
                                                       "Update scholar/workflows/orchestrator_run_prompt.md to require a coverage section listing artifacts used and any gaps",
                                                       "Add requirement to deduplicate and rank recommendations with source file paths",
                                                       "Typecheck passes"
                                                   ],
                            "priority":  6,
                            "passes":  true,
                            "notes":  ""
                        },
                        {
                            "id":  "US-007",
                            "title":  "Clarify Review/Plan/Research flow",
                            "description":  "As a maintainer, I want the Scholar loop to explicitly plan and optimize its agent flow before research.",
                            "acceptanceCriteria":  [
                                                       "Update scholar/workflows/orchestrator_loop.md to include a Plan step after Review",
                                                       "Flow includes: Review -\u003e Plan -\u003e Understand -\u003e Question -\u003e Research -\u003e Synthesize -\u003e Draft -\u003e Wait",
                                                       "Reference the AI artifact manifest during Review/Plan",
                                                       "Typecheck passes"
                                                   ],
                            "priority":  7,
                            "passes":  true,
                            "notes":  ""
                        }
                    ]
}
