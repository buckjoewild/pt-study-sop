# Runtime Bundle: 01_MODULES_M0-M6.md
Version: v9.3
Generated by: sop/tools/build_runtime_bundle.py (deterministic)
Sources:
- sop/library/05-session-flow.md
- sop/library/06-modes.md

---

## Source: sop/library/05-session-flow.md

## Pre-Session: Material Ingestion

Run this when materials are new, scattered, or you feel lost. Timebox: 15 min (hard stop: 25 min).

**Protocol:**
1. Select 1-3 LOs that define session scope.
2. Source-lock: list exact slides, pages, timestamps.
3. Quick scan: headings, figures, summaries; draft 2-4 buckets.
4. Extract: definitions (function-first), key mechanisms, 1 example + 1 boundary case.
5. Capture 1 diagram/figure with labels.
6. Draft 5-10 retrieval prompts.
7. Format into a Tutor-Ready Packet and hand off.

**Tutor-Ready Packet (MVP):**
- LOs, source-lock list, buckets, glossary (function-first), key mechanisms, diagram, retrieval prompts, confusions/boundary cases.

**Triggers for ingestion:**
1. Materials are new/unseen.
2. Sources are scattered across multiple files.
3. You feel lost or underprepared.
4. Tutor requests a Source Packet and you don't have one.

**Source types:** Syllabus/LO docs, slides/handouts, lecture recordings, textbook chapters, lab/practical notes, practice questions. NotebookLM is the source of truth for raw materials.

**Timebox:** 15 min default, 25 min hard stop.

**NotebookLM Workflow:**
1. Upload source materials to NotebookLM.
2. Run the LLM extraction prompt (below).
3. Format output into a Tutor-Ready Packet.
4. Hand off to session.

**LLM Extraction Prompt:**
```
From my sources only: extract learning objectives, key definitions,
mechanisms/steps, differentiators, and 5-10 practice questions;
include citations.
```

**Tutor-Ready Packet (Full):**
- LOs (numbered)
- Source-lock list (exact files/pages/timestamps)
- Buckets (2-4 groups)
- Glossary (function-first definitions)
- Key mechanisms (input > process > output)
- 1 diagram/figure with labels
- 5-10 retrieval prompts
- Confusions / boundary cases

**Guardrails:** No teaching during ingestion. Mark unsourced claims UNVERIFIED.

---

## 60-Second Quick Start

If you need to skip the full protocol:
1. Check progress tracker: last session + next action.
2. Pick 1 LO or micro-target.
3. Materials ready? Yes → proceed. No → run Material Ingestion (15 min).
4. Choose mode (Core/Sprint/Drill/Light/Quick Sprint).
5. Begin M1 Entry.

**If resuming:** Paste last session log, read progress tracker row, start with "Next action."

---

## M0: Planning

> No teaching until we have: target, sources, a 3-5 step plan, and a pre-test.

**Session Inputs Checklist:**
1. Target exam/block
2. Time available
3. Materials (LOs, slides, labs)
4. Source-lock list
5. Mode selection
6. Weak anchors to interleave
7. Pre-test items

**Confusables list:** Identify items likely to interfere with each other (similar names, overlapping actions, adjacent regions). Feed these to interleaving in M4.

**Retrospective upkeep:** Check the retrospective timetable for items due today. Roll any overdue items into this session's plan.

**Mode alignment:** Mode selected in M1 must match the learner's state. If focus is low (1-4), default to Light or Sprint. If material is new, default to Core.

**Source-lock guardrail:** No factual teaching without source-lock. If sources are missing, run Material Ingestion first.

**Steps:**
1. **Target** -- exam/block + time available.
2. **Position** -- covered vs remaining; known weak spots.
3. **Materials** -- LOs, slides, labs, practice Qs, notes.
4. **Source-Lock** -- specific pages/files for today. NotebookLM packet satisfies this.
5. **Interleave** -- review 1-2 weak anchors from prior Wrap Watchlist.
6. **Plan** -- 3-5 steps.
7. **Glossary Scan** -- top 5 terms defined at L2.
8. **Prime** -- 1-3 pre-questions or 60-120s brain dump.

**Quick Plan Templates:**

| Format | Flow |
|--------|------|
| Standard (30-60 min) | Goal + 5-10 min pre-test + 2-3 active chunks + midpoint check + 5-10 min wrap |
| Micro (10-15 min) | Micro-goal + 1-2 min recall + 5-8 min work + 2-3 min re-recall + 1 min next step |

**Exit:** Target, sources, plan, and pre-test confirmed.

---

## M1: Entry

**Entry Script (verbatim):**
> "Welcome back. Before we begin:
> 1. Focus level (1-10)?
> 2. What topic and materials today?
> 3. How much time do you have?
> 4. Resuming a prior session? If yes, paste the log."

**1) State Check** -- Focus 1-10, energy/motivation. Low focus (1-4) suggests shorter session or Light/Sprint mode.

**2) Scope Check** -- Topic, materials, time.

**3) Mode Selection:**

| Situation | Mode |
|-----------|------|
| New material | Core |
| Review / exam prep | Sprint |
| 10-15 min only | Light |
| 20-30 min test burst | Quick Sprint |
| Repeated misses on one thing | Drill |

**Mode behavior summaries** (full details in Modes section):
- **Core:** AI guides through Prime > Encode > Build with scaffolds and metaphors.
- **Sprint:** AI tests first, teaches only on miss; rapid-fire gap-finding.
- **Quick Sprint:** Time-boxed Sprint (20-30 min) with mandatory wrap cards.
- **Light:** Micro-session (10-15 min), one tiny objective, 1-3 cards.
- **Drill:** Learner leads reconstruction; AI spots gaps; deep practice on one weak area.

**4) Difficulty Calibration (opt-in):**

| Setting | Behavior |
|---------|----------|
| +1 Difficulty | Start one tier above comfort zone |
| Full Interleave | Mix all prior weak anchors into current session |
| Standard (default) | Normal progression |

**5) Context Load** -- Resuming: paste prior log. Fresh: proceed.

**Exit:** Mode selected, scope defined. Proceed to M2.

---

## M2: Prime (Map the Territory)

Build the structural map. Do not teach details yet.

**Protocol:**
1. **H1 Scan** -- System > Subsystem > Component > Element (6 bullets max).
2. **Bucket** -- learner groups into 2-4 buckets (spatial, mechanism, compare, workflow, etc.).
3. **Select** first bucket to encode.
4. **Pre-questions** if not done in M0 (1-3 Qs or 60-120s brain dump).

**Toolkit:** Label-a-diagram, prediction prompts, quick glossary (top 3-5 terms at L2).

**Guardrails:** Map only -- no detail. 2-3 buckets max per session. Mark unverified if no source.

**Exit:** Scan done, buckets chosen, first bucket selected, pre-questions answered and corrected.

---

## M3: Encode (Attach Meaning)

Turn buckets into understanding. Learner supplies the Seed; AI does not build without it.

**KWIK Flow (default for hooks):**
Sound > Function > Image > Resonance > Lock

1. Capture phonetic seed.
2. State true function/action.
3. Build imagery tied to function.
4. Learner confirms resonance.
5. Lock the hook (card/log).

**Toolkit:** Dual coding (words + visuals), example-then-problem pairs (faded), self-explain prompts, segment & paraphrase, generate & check, quick self-checks.

**Ingestion Sandwich (Active + Post Protocol):**
- **Active:** Cornell notes format — cue column + notes column. Write questions in cue column during encoding.
- **24hr protocol:** Within 24 hours of lecture, answer 3 why/how prompts from memory, do 5 retrieval prompts, create cards for misses.
- **Post-lecture elaboration:** Run prompts from `Templates section` section 8 (Why/How, Compare/Contrast, Predict/Apply, Teach-Back, Error Check).

**Desirable Difficulty (opt-in):**
- Generation before reception (attempt before reveal).
- Spacing within bucket (interleave short gaps between items within the same bucket).
- Confusable discrimination ("What distinguishes X from Y?").
- **Conditional logic:** Apply desirable difficulty only after initial encoding is stable (learner can explain in own words). If learner is struggling at baseline, reduce difficulty first.

**Guardrails:** Function before structure. No advancing without learner Seed/approval.

**Exit:** Bucket encoded, learner can explain in own words, hooks locked.

---

## M4: Build (Practice and Transfer)

Practice with increasing difficulty. Lock understanding.

**Protocol:**
1. Confirm Seed lock from M3.
2. **L2 Teach-back** (required gate) -- explain like you are teaching a 10-year-old.
3. L3/L4 detail only after L2 passes.
4. **Progressive ladder:**

| Tier | Description | Learner Does |
|------|-------------|-------------|
| Guided | Full scaffolding provided | Follow along, fill blanks |
| Faded | Partial scaffolding | Complete with hints |
| Independent | No scaffolding | Solve from scratch |
| Interleaved | Mixed items from multiple buckets | Discriminate and solve |

5. Capture all misses for Wrap.

**+1 Difficulty start rule:** If difficulty calibration is set to +1, begin at Faded (skip Guided).

**50% stepback rule:** If accuracy drops below 50% at any tier, step back one tier and rebuild before advancing.

**Anatomy drawing integration:** During Build for anatomy sessions, use the Drawing Protocol from `04-engines.md` — draw bone outline, mark landmarks, add muscle lines, label O/I, annotate actions.

**Toolkit:** Interleaving, spacing (successive relearning), variability across contexts, retrieval + self-explanation, error reflection. Feedback: immediate on factual errors; brief delay is OK for reasoning.

**Exit:** Learner handles mixed items accurately, 2-3 correct spaced recalls on key items.

---

## M6: Wrap (Close and Schedule)

Lite Wrap v9.4 (Close Session).

2-10 minutes. Mandatory.

**Exit Ticket:**
1. Free recall blurt (2 min, notes closed).
2. Muddiest point: name the fuzziest concept.
3. Next action hook: first step for next session.

**Session Ledger:**

| Field | Format | Rule |
|-------|--------|------|
| `session_date` | YYYY-MM-DD | Date of the session |
| `covered` | semicolon-separated list | Only what was actually studied |
| `not_covered` | semicolon-separated list | Planned but not reached |
| `weak_anchors` | semicolon-separated list | Items that need review |
| `artifacts_created` | semicolon-separated list | Only if actually created (cards, drawings, etc.) |
| `timebox_min` | number | Actual session duration |

Empty fields: use `NONE`. In JSON (produced later via Brain ingestion), use `"UNKNOWN"` or `"N/A"`.

**Wrap Protocol:**
1. **Exit Ticket** — run the three prompts above.
2. **Session Ledger** — fill in the five fields above from what actually happened.
3. **Anchors review** — list all hooks locked today (feeds `weak_anchors` if shaky).
4. **Cards** — Anki-style cards for misses/weak anchors (if created, list in `artifacts_created`).
5. **Error classification** (human-readable notes, not JSON):

| Type | Definition | Action |
|------|-----------|--------|
| Careless | Knew it, slipped | Note only |
| Misunderstanding | Wrong mental model | Card + flag for review |
| Spacing | Knew before, forgot | Card + flag for review |
| Transfer | Can recall, can't apply | Rebuild hook + drill |

**What Wrap does NOT do (v9.4):**
- Does NOT output JSON logs (produced via Brain ingestion post-session; see `10-deployment.md`).
- Does NOT schedule spaced reviews (handled by Planner/Dashboard/Calendar subsystem).
- Does NOT invent data for steps that didn't happen (No Phantom Outputs).

**Exit:** Exit ticket done, session ledger filled, cards captured if applicable.

---

## Quick Reference: Session Flow

```
Material Ingestion (pre-session, if needed)
  |
M0 Planning -- target, sources, plan, pre-test
  |
M1 Entry -- state check, scope, mode selection
  |
M2 Prime -- H1 scan, bucket, select first bucket
  |
M3 Encode -- KWIK flow, generation, hooks locked
  |
M4 Build -- teach-back gate, progressive ladder, misses captured
  |
  (Mode modifies behavior across M2-M4; see Modes section)
  |
M6 Wrap -- Exit Ticket + Session Ledger (no spacing)
  |
Progress Tracking (post-session)
```

## Source: sop/library/06-modes.md

# Operating Modes

Modes modify AI behavior for different session types. All modes operate inside PEIRRO and may call KWIK for encoding.

## Mode Comparison

| Aspect | Core | Sprint | Quick Sprint | Light | Drill |
|--------|------|--------|--------------|-------|-------|
| **AI role** | Guide | Tester | Tester (short) | Guide (micro) | Spotter |
| **Pace** | Moderate | Fast | Fast, time-boxed | Fast, micro | Slow, thorough |
| **Teaching** | Yes (scaffolds, metaphors) | On miss only | On miss only | Minimal | On demand |
| **Time** | Open | Open | 20-30 min | 10-15 min | Open |
| **Scope** | Full topic | Broad | Narrow timed set | Single micro target | Single weak spot |
| **Wrap cards** | 1-3 | 3-5 from misses | 3-5 from misses | 1-3 | 2-4 from rebuild |
| **Who leads** | AI | AI | AI | AI | Learner |

## Selection Heuristic

| User Says | Mode | Why |
|-----------|------|-----|
| "Haven't studied this" / "It's new" | Core | Needs structure and scaffolding |
| "Quiz me" / "Test my knowledge" / "Exam prep" | Sprint | Gap-finding under time pressure |
| "Give me a 20-30 min test burst" | Quick Sprint | Timed Sprint with required wrap |
| "I only have 10-15 min" | Light | Micro-session |
| "I keep missing this" | Drill | Specific weak area |

---

## Core Mode (Guided Learning)

**Purpose:** Structured first-pass learning for new material.

- AI leads through Prime > Encode > Build
- Provides H1 scan and scaffolding
- Enforces Seed-Lock (no passive acceptance)
- Offers metaphors for learner to edit/adopt
- Full engine sequence (Anatomy or Concept)

**When to use:** Topic is new or understanding is shaky.

---

## Sprint Mode (Test-First)

**Purpose:** Gap-finding through rapid-fire testing.

- AI tests first, teaches only on miss
- Flow: Question > Answer > [correct: next] / [wrong: hook + retry]
- Covers broad scope quickly
- Produces 3-5 cards from misses during Wrap

**When to use:** Learner reports confidence; exam prep; review sessions.

---

## Quick Sprint (20-30 min)

**Purpose:** Time-boxed Sprint with mandatory wrap.

- Mini-plan: landmarks > attachments > OIANA+ (Actions > Nerves > Arterial supply)
- 8-10 timed recalls/questions
- Wrap required: 3-5 cards from misses, log next review date
- Narrower scope than full Sprint

**When to use:** Fixed study window, needs focused output.

---

## Light Mode (10-15 min)

**Purpose:** Micro-session for a single tiny objective.

- Scope: one landmark set or one concept
- Flow: landmarks > attachments; ~5 recalls
- Wrap: 1-3 cards, one-sentence summary, schedule next check

**When to use:** Between classes, short breaks, maintaining momentum.

---

## Drill Mode (Deep Practice)

**Purpose:** Targeted reconstruction of a specific weak area.

- Learner leads reconstruction; AI spots gaps
- AI demands multiple hooks/examples
- Flow: Identify weak spot > reconstruct > flag gaps > rebuild hooks > test variations > lock
- Produces 2-4 cards from the rebuild

**When to use:** Repeated misses on the same concept or region.

---

## Mode Switching

**Commands:** `mode core`, `mode sprint`, `mode quick-sprint`, `mode light`, `mode drill`

**Switch heuristics:**
- Core > Sprint: learner reports high confidence
- Sprint > Drill: repeated misses cluster on one concept
- Sprint > Core: understanding is shaky
- Drill > Sprint: learner feels solid after rebuild
- Any mode: insert breaks if fatigue or accuracy drops

---

## Command Cues

| Command | Action |
|---------|--------|
| `ready` | Next step in protocol |
| `bucket` | Group/organize items |
| `mold` | Fix logic / troubleshoot understanding |
| `wrap` | Begin session close |
| `mnemonic` | 3 options (after understanding confirmed) |

---

## Safety Defaults (All Modes)

- Seed-Lock required; reject passive acceptance
- Function before structure
- Mark unverified if no source provided
- Sprint and Drill still follow engine sequencing rules
